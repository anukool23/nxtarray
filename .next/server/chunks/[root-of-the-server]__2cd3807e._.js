module.exports=[45973,53970,e=>{"use strict";var t=e.i(31875);let r=(e,t)=>(t.find(([t])=>t.match(e))||[void 0,void 0])[1],i={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},s={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function a(e,a,n){return{applyToStack:o=>{o.add((i,s)=>async a=>{let{response:o}=await i(a);try{let t=await n(o,e);return{response:o,output:t}}catch(e){if(Object.defineProperty(e,"$response",{value:o}),!("$metadata"in e)){let i="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{e.message+="\n  "+i}catch(e){s.logger&&s.logger?.constructor?.name!=="NoOpLogger"?s.logger?.warn?.(i):console.warn(i)}void 0!==e.$responseBodyText&&e.$response&&(e.$response.body=e.$responseBodyText);try{if(t.HttpResponse.isInstance(o)){let{headers:t={}}=o,i=Object.entries(t);e.$metadata={httpStatusCode:o.statusCode,requestId:r(/^x-[\w-]+-request-?id$/,i),extendedRequestId:r(/^x-[\w-]+-id-2$/,i),cfId:r(/^x-[\w-]+-cf-id$/,i)}}}catch(e){}}throw e}},i),o.add((t,r)=>async i=>{let s=r.endpointV2?.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint;if(!s)throw Error("No valid endpoint provider available.");let n=await a(i.input,{...e,endpoint:s});return t({...i,request:n})},s)}}}function n(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}e.s(["getSerdePlugin",()=>a,"serializerMiddlewareOption",0,s],45973),e.s(["setFeature",()=>n],53970)},80768,76228,e=>{"use strict";let t="__smithy_context";e.s(["SMITHY_CONTEXT_KEY",0,t],76228),e.s(["getSmithyContext",0,e=>e[t]||(e[t]={})],80768)},52780,11450,e=>{"use strict";let t=async e=>{let t=e?.Bucket||"";if("string"==typeof e.Bucket&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),n(t)){if(!0===e.ForcePathStyle)throw Error("Path-style addressing cannot be used with ARN buckets")}else a(t)&&(-1===t.indexOf(".")||String(e.Endpoint).startsWith("http:"))&&t.toLowerCase()===t&&!(t.length<3)||(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},r=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,i=/(\d+\.){3}\d+/,s=/\.\./,a=e=>r.test(e)&&!i.test(e)&&!s.test(e),n=e=>{let[t,r,i,,,s]=e.split(":"),a="arn"===t&&e.split(":").length>=6,n=!!(a&&r&&i&&s);if(a&&!n)throw Error(`Invalid ARN: ${e} was an invalid ARN.`);return n};e.s(["resolveParamsForS3",0,t],52780),e.s(["createConfigValueProvider",0,(e,t,r)=>{let i=async()=>{let i=r[e]??r[t];return"function"==typeof i?i():i};return"credentialScope"===e||"CredentialScope"===t?async()=>{let e="function"==typeof r.credentials?await r.credentials():r.credentials;return e?.credentialScope??e?.CredentialScope}:"accountId"===e||"AccountId"===t?async()=>{let e="function"==typeof r.credentials?await r.credentials():r.credentials;return e?.accountId??e?.AccountId}:"endpoint"===e||"endpoint"===t?async()=>{if(!1===r.isCustomEndpoint)return;let e=await i();if(e&&"object"==typeof e){if("url"in e)return e.url.href;if("hostname"in e){let{protocol:t,hostname:r,port:i,path:s}=e;return`${t}//${r}${i?":"+i:""}${s}`}}return e}:i}],11450)},62054,11384,e=>{"use strict";var t=e.i(15189),r=e.i(48633);let i="AWS_ENDPOINT_URL",s="endpoint_url",a=async e=>{let a;return(0,t.loadConfig)((a=e??"",{environmentVariableSelector:e=>{let t=e[[i,...a.split(" ").map(e=>e.toUpperCase())].join("_")];if(t)return t;let r=e[i];if(r)return r},configFileSelector:(e,t)=>{if(t&&e.services){let i=t[["services",e.services].join(r.CONFIG_PREFIX_SEPARATOR)];if(i){let e=i[[a.split(" ").map(e=>e.toLowerCase()).join("_"),s].join(r.CONFIG_PREFIX_SEPARATOR)];if(e)return e}}let i=e[s];if(i)return i},default:void 0}))()};e.s(["getEndpointFromConfig",0,a],62054);var n=e.i(41175);e.s(["toEndpointV1",0,e=>"object"==typeof e?"url"in e?(0,n.parseUrl)(e.url):e:(0,n.parseUrl)(e)],11384)},55038,e=>{"use strict";var t=e.i(45973),r=e.i(53970),i=e.i(80768),s=e.i(52780),a=e.i(11450),n=e.i(62054),o=e.i(11384);let l=async(e,t,r,i)=>{if(!r.isCustomEndpoint){let e;(e=r.serviceConfiguredEndpoint?await r.serviceConfiguredEndpoint():await (0,n.getEndpointFromConfig)(r.serviceId))&&(r.endpoint=()=>Promise.resolve((0,o.toEndpointV1)(e)),r.isCustomEndpoint=!0)}let s=await c(e,t,r);if("function"!=typeof r.endpointProvider)throw Error("config.endpointProvider is not set.");return r.endpointProvider(s,i)},c=async(e,t,r)=>{let i={},n=t?.getEndpointParameterInstructions?.()||{};for(let[t,s]of Object.entries(n))switch(s.type){case"staticContextParams":i[t]=s.value;break;case"contextParams":i[t]=e[s.name];break;case"clientContextParams":case"builtInParams":i[t]=await (0,a.createConfigValueProvider)(s.name,t,r)();break;case"operationContextParams":i[t]=s.get(e);break;default:throw Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(s))}return 0===Object.keys(n).length&&Object.assign(i,r),"s3"===String(r.serviceId).toLowerCase()&&await (0,s.resolveParamsForS3)(i),i},u={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:t.serializerMiddlewareOption.name};e.s(["getEndpointPlugin",0,(e,t)=>({applyToStack:s=>{s.addRelativeTo((({config:e,instructions:t})=>(s,a)=>async n=>{e.isCustomEndpoint&&(0,r.setFeature)(a,"ENDPOINT_OVERRIDE","N");let o=await l(n.input,{getEndpointParameterInstructions:()=>t},{...e},a);a.endpointV2=o,a.authSchemes=o.properties?.authSchemes;let c=a.authSchemes?.[0];if(c){a.signing_region=c.signingRegion,a.signing_service=c.signingName;let e=(0,i.getSmithyContext)(a),t=e?.selectedHttpAuthScheme?.httpAuthOption;t&&(t.signingProperties=Object.assign(t.signingProperties||{},{signing_region:c.signingRegion,signingRegion:c.signingRegion,signing_service:c.signingName,signingName:c.signingName,signingRegionSet:c.signingRegionSet},c.properties))}return s({...n})})({config:e,instructions:t}),u)}})],55038)},9396,e=>{"use strict";let t=(e,t)=>{let r=[];if(e&&r.push(e),t)for(let e of t)r.push(e);return r},r=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,i=()=>{let e=[],n=[],o=!1,l=new Set,c=t=>(e.forEach(e=>{t.add(e.middleware,{...e})}),n.forEach(e=>{t.addRelativeTo(e.middleware,{...e})}),t.identifyOnResolve?.(h.identifyOnResolve()),t),u=e=>{let t=[];return e.before.forEach(e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...u(e))}),t.push(e),e.after.reverse().forEach(e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...u(e))}),t},d=(i=!1)=>{let o=[],l=[],c={};return e.forEach(e=>{let r={...e,before:[],after:[]};for(let e of t(r.name,r.aliases))c[e]=r;o.push(r)}),n.forEach(e=>{let r={...e,before:[],after:[]};for(let e of t(r.name,r.aliases))c[e]=r;l.push(r)}),l.forEach(e=>{if(e.toMiddleware){let t=c[e.toMiddleware];if(void 0===t){if(i)return;throw Error(`${e.toMiddleware} is not found when adding ${r(e.name,e.aliases)} middleware ${e.relation} ${e.toMiddleware}`)}"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}),o.sort((e,t)=>s[t.step]-s[e.step]||a[t.priority||"normal"]-a[e.priority||"normal"]).map(u).reduce((e,t)=>(e.push(...t),e),[])},h={add:(i,s={})=>{let{name:a,override:n,aliases:o}=s,c={step:"initialize",priority:"normal",middleware:i,...s},u=t(a,o);if(u.length>0){if(u.some(e=>l.has(e))){if(!n)throw Error(`Duplicate middleware name '${r(a,o)}'`);for(let t of u){let i=e.findIndex(e=>e.name===t||e.aliases?.some(e=>e===t));if(-1===i)continue;let s=e[i];if(s.step!==c.step||c.priority!==s.priority)throw Error(`"${r(s.name,s.aliases)}" middleware with ${s.priority} priority in ${s.step} step cannot be overridden by "${r(a,o)}" middleware with ${c.priority} priority in ${c.step} step.`);e.splice(i,1)}}for(let e of u)l.add(e)}e.push(c)},addRelativeTo:(e,i)=>{let{name:s,override:a,aliases:o}=i,c={middleware:e,...i},u=t(s,o);if(u.length>0){if(u.some(e=>l.has(e))){if(!a)throw Error(`Duplicate middleware name '${r(s,o)}'`);for(let e of u){let t=n.findIndex(t=>t.name===e||t.aliases?.some(t=>t===e));if(-1===t)continue;let i=n[t];if(i.toMiddleware!==c.toMiddleware||i.relation!==c.relation)throw Error(`"${r(i.name,i.aliases)}" middleware ${i.relation} "${i.toMiddleware}" middleware cannot be overridden by "${r(s,o)}" middleware ${c.relation} "${c.toMiddleware}" middleware.`);n.splice(t,1)}}for(let e of u)l.add(e)}n.push(c)},clone:()=>c(i()),use:e=>{e.applyToStack(h)},remove:r=>{let i,s;if("string"==typeof r){let i,s;return i=!1,s=e=>{let s=t(e.name,e.aliases);if(s.includes(r)){for(let e of(i=!0,s))l.delete(e);return!1}return!0},e=e.filter(s),n=n.filter(s),i}return i=!1,s=e=>{if(e.middleware===r){for(let r of(i=!0,t(e.name,e.aliases)))l.delete(r);return!1}return!0},e=e.filter(s),n=n.filter(s),i},removeByTag:r=>{let i=!1,s=e=>{let{tags:s,name:a,aliases:n}=e;if(s&&s.includes(r)){for(let e of t(a,n))l.delete(e);return i=!0,!1}return!0};return e=e.filter(s),n=n.filter(s),i},concat:e=>{let t=c(i());return t.use(e),t.identifyOnResolve(o||t.identifyOnResolve()||(e.identifyOnResolve?.()??!1)),t},applyToStack:c,identify:()=>d(!0).map(e=>{let t=e.step??e.relation+" "+e.toMiddleware;return r(e.name,e.aliases)+" - "+t}),identifyOnResolve:e=>("boolean"==typeof e&&(o=e),o),resolve:(e,t)=>{for(let r of d().map(e=>e.middleware).reverse())e=r(e,t);return o&&console.log(h.identify()),e}};return h},s={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},a={high:3,normal:2,low:1};e.s(["constructStack",0,i])},63413,e=>{"use strict";var t=e.i(9396),r=e.i(76228);let i=e=>"function"==typeof e?e():e;class s{namespace;schemas;exceptions;static registries=new Map;constructor(e,t=new Map,r=new Map){this.namespace=e,this.schemas=t,this.exceptions=r}static for(e){return s.registries.has(e)||s.registries.set(e,new s(e)),s.registries.get(e)}register(e,t){let r=this.normalizeShapeId(e);this.schemas.set(r,t)}getSchema(e){let t=this.normalizeShapeId(e);if(!this.schemas.has(t))throw Error(`@smithy/core/schema - schema not found for ${t}`);return this.schemas.get(t)}registerError(e,t){this.exceptions.set(e,t)}getErrorCtor(e){return this.exceptions.get(e)}getBaseException(){for(let[e,t]of this.schemas.entries())if(e.startsWith("smithy.ts.sdk.synthetic.")&&e.endsWith("ServiceException"))return t}find(e){return[...this.schemas.values()].find(e)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(e){return e.includes("#")?e:this.namespace+"#"+e}getNamespace(e){return this.normalizeShapeId(e).split("#")[0]}}class a{name;namespace;traits;static assign(e,t){let r=Object.assign(e,t);return s.for(r.namespace).register(r.name,r),r}static[Symbol.hasInstance](e){let t=this.prototype.isPrototypeOf(e);return t||"object"!=typeof e||null===e?t:e.symbol===this.symbol}getName(){return this.namespace+"#"+this.name}}class n extends a{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=n.symbol}class o extends a{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=o.symbol}let l={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128};class c extends a{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=c.symbol}class u extends a{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=u.symbol}class d{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=d.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(e,t){this.ref=e,this.memberName=t;const r=[];let s=e,n=e;for(this._isMemberSchema=!1;Array.isArray(s);)r.push(s[1]),n=i(s=s[0]),this._isMemberSchema=!0;if(r.length>0){this.memberTraits={};for(let e=r.length-1;e>=0;--e){const t=r[e];Object.assign(this.memberTraits,d.translateTraits(t))}}else this.memberTraits=0;if(n instanceof d){const e=this.memberTraits;Object.assign(this,n),this.memberTraits=Object.assign({},e,n.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=t??n.memberName;return}if(this.schema=i(n),this.schema&&"object"==typeof this.schema?this.traits=this.schema?.traits??{}:this.traits=0,this.name=(this.schema instanceof a?this.schema.getName?.():void 0)??this.memberName??this.getSchemaName(),this._isMemberSchema&&!t)throw Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](e){return a[Symbol.hasInstance].bind(this)(e)}static of(e){if(e instanceof d)return e;if(Array.isArray(e)){let[t,r]=e;if(t instanceof d)return Object.assign(t.getMergedTraits(),d.translateTraits(r)),t;throw Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(e,null,2)}.`)}return new d(e)}static translateTraits(e){if("object"==typeof e)return e;e|=0;let t={},r=0;for(let i of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(e>>r++&1)==1&&(t[i]=1);return t}getSchema(){return this.schema instanceof d?(Object.assign(this,{schema:this.schema.getSchema()}),this.schema):this.schema instanceof c?i(this.schema.schemaRef):i(this.schema)}getName(e=!1){return!e&&this.name&&this.name.includes("#")?this.name.split("#")[1]:this.name||void 0}getMemberName(){if(!this.isMemberSchema())throw Error(`@smithy/core/schema - non-member schema: ${this.getName(!0)}`);return this.memberName}isMemberSchema(){return this._isMemberSchema}isUnitSchema(){return"unit"===this.getSchema()}isListSchema(){let e=this.getSchema();return"number"==typeof e?e>=l.LIST_MODIFIER&&e<l.MAP_MODIFIER:e instanceof n}isMapSchema(){let e=this.getSchema();return"number"==typeof e?e>=l.MAP_MODIFIER&&e<=255:e instanceof o}isStructSchema(){let e=this.getSchema();return null!==e&&"object"==typeof e&&"members"in e||e instanceof u}isBlobSchema(){return this.getSchema()===l.BLOB||this.getSchema()===l.STREAMING_BLOB}isTimestampSchema(){let e=this.getSchema();return"number"==typeof e&&e>=l.TIMESTAMP_DEFAULT&&e<=l.TIMESTAMP_EPOCH_SECONDS}isDocumentSchema(){return this.getSchema()===l.DOCUMENT}isStringSchema(){return this.getSchema()===l.STRING}isBooleanSchema(){return this.getSchema()===l.BOOLEAN}isNumericSchema(){return this.getSchema()===l.NUMERIC}isBigIntegerSchema(){return this.getSchema()===l.BIG_INTEGER}isBigDecimalSchema(){return this.getSchema()===l.BIG_DECIMAL}isStreaming(){return!!this.getMergedTraits().streaming||this.getSchema()===l.STREAMING_BLOB}isIdempotencyToken(){if(this.normalizedTraits)return!!this.normalizedTraits.idempotencyToken;for(let e of[this.traits,this.memberTraits])if("number"==typeof e){if((4&e)==4)return!0}else if("object"==typeof e&&e.idempotencyToken)return!0;return!1}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return d.translateTraits(this.memberTraits)}getOwnTraits(){return d.translateTraits(this.traits)}getKeySchema(){if(this.isDocumentSchema())return this.memberFrom([l.DOCUMENT,0],"key");if(!this.isMapSchema())throw Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let e=this.getSchema();return"number"==typeof e?this.memberFrom([63&e,0],"key"):this.memberFrom([e.keySchema,0],"key")}getValueSchema(){let e=this.getSchema();if("number"==typeof e){if(this.isMapSchema())return this.memberFrom([63&e,0],"value");else if(this.isListSchema())return this.memberFrom([63&e,0],"member")}if(e&&"object"==typeof e){if(this.isStructSchema())throw Error(`may not getValueSchema() on structure ${this.getName(!0)}`);if("valueSchema"in e){if(this.isMapSchema())return this.memberFrom([e.valueSchema,0],"value");else if(this.isListSchema())return this.memberFrom([e.valueSchema,0],"member")}}if(this.isDocumentSchema())return this.memberFrom([l.DOCUMENT,0],"value");throw Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}hasMemberSchema(e){return!!this.isStructSchema()&&this.getSchema().memberNames.includes(e)}getMemberSchema(e){if(this.isStructSchema()){let t=this.getSchema();if(!t.memberNames.includes(e))throw Error(`@smithy/core/schema - ${this.getName(!0)} has no member=${e}.`);let r=t.memberNames.indexOf(e),i=t.memberList[r];return this.memberFrom(Array.isArray(i)?i:[i,0],e)}if(this.isDocumentSchema())return this.memberFrom([l.DOCUMENT,0],e);throw Error(`@smithy/core/schema - ${this.getName(!0)} has no members.`)}getMemberSchemas(){let e={};try{for(let[t,r]of this.structIterator())e[t]=r}catch(e){}return e}getEventStreamMember(){if(this.isStructSchema()){for(let[e,t]of this.structIterator())if(t.isStreaming()&&t.isStructSchema())return e}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw Error("@smithy/core/schema - cannot iterate non-struct schema.");let e=this.getSchema();for(let t=0;t<e.memberNames.length;++t)yield[e.memberNames[t],this.memberFrom([e.memberList[t],0],e.memberNames[t])]}memberFrom(e,t){return e instanceof d?Object.assign(e,{memberName:t,_isMemberSchema:!0}):new d(e,t)}getSchemaName(){let e=this.getSchema();if("number"==typeof e){let t=63&e,r=Object.entries(l).find(([,e])=>e===t)?.[0]??"Unknown";switch(192&e){case l.MAP_MODIFIER:return`${r}Map`;case l.LIST_MODIFIER:return`${r}List`;case 0:return r}}return"Unknown"}}let h="***SensitiveInformation***";function m(e,t){if(null==t)return t;let r=d.of(e);if(r.getMergedTraits().sensitive)return h;if(r.isListSchema()){if(r.getValueSchema().getMergedTraits().sensitive)return h}else if(r.isMapSchema()){if(r.getKeySchema().getMergedTraits().sensitive||r.getValueSchema().getMergedTraits().sensitive)return h}else if(r.isStructSchema()&&"object"==typeof t){let e={};for(let[i,s]of r.structIterator())null!=t[i]&&(e[i]=m(s,t[i]));return e}return t}class f{middlewareStack=(0,t.constructStack)();schema;static classBuilder(){return new p}resolveMiddlewareWithContext(e,t,i,{middlewareFn:s,clientName:a,commandName:n,inputFilterSensitiveLog:o,outputFilterSensitiveLog:l,smithyContext:c,additionalContext:u,CommandCtor:d}){for(let r of s.bind(this)(d,e,t,i))this.middlewareStack.use(r);let h=e.concat(this.middlewareStack),{logger:m}=t,f={logger:m,clientName:a,commandName:n,inputFilterSensitiveLog:o,outputFilterSensitiveLog:l,[r.SMITHY_CONTEXT_KEY]:{commandInstance:this,...c},...u},{requestHandler:p}=t;return h.resolve(e=>p.handle(e.request,i||{}),f)}}class p{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,t,r={}){return this._smithyContext={service:e,operation:t,...r},this}c(e={}){return this._additionalContext=e,this}n(e,t){return this._clientName=e,this._commandName=t,this}f(e=e=>e,t=e=>e){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=t,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){let e,t=this;return e=class extends f{input;static getEndpointParameterInstructions(){return t._ep}constructor(...[e]){super(),this.input=e??{},t._init(this),this.schema=t._operationSchema}resolveMiddleware(r,i,s){return this.resolveMiddlewareWithContext(r,i,s,{CommandCtor:e,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog??(t._operationSchema?m.bind(null,t._operationSchema.input):e=>e),outputFilterSensitiveLog:t._outputFilterSensitiveLog??(t._operationSchema?m.bind(null,t._operationSchema.output):e=>e),smithyContext:t._smithyContext,additionalContext:t._additionalContext})}serialize=t._serializer;deserialize=t._deserializer}}}e.s(["Command",()=>f],63413)},95840,14988,e=>{"use strict";var t=e.i(49151),r=e.i(71225),i=e.i(55103),s=e.i(25145);class a extends Uint8Array{static fromString(e,r="utf-8"){if("string"==typeof e)return"base64"===r?a.mutate((0,t.fromBase64)(e)):a.mutate((0,i.fromUtf8)(e));throw Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}static mutate(e){return Object.setPrototypeOf(e,a.prototype),e}transformToString(e="utf-8"){return function(e,t="utf-8"){return"base64"===t?(0,r.toBase64)(e):(0,s.toUtf8)(e)}(this,e)}}let n=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return a.mutate(e);if(!e)return a.mutate(new Uint8Array);let r=t.streamCollector(e);return a.mutate(await r)};e.s(["collectBody",0,n],14988),e.s(["collectBodyString",0,(e,t)=>n(e,t).then(e=>(t?.utf8Encoder??s.toUtf8)(e))],95840)},19483,e=>{"use strict";class t extends Error{$fault;$response;$retryable;$metadata;constructor(e){super(e.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}static isInstance(e){return!!e&&(t.prototype.isPrototypeOf(e)||!!e.$fault&&!!e.$metadata&&("client"===e.$fault||"server"===e.$fault))}static[Symbol.hasInstance](e){return!!e&&(this===t?t.isInstance(e):!!t.isInstance(e)&&(e.name&&this.name?this.prototype.isPrototypeOf(e)||e.name===this.name:this.prototype.isPrototypeOf(e)))}}e.s(["ServiceException",()=>t,"decorateServiceException",0,(e,t={})=>{Object.entries(t).filter(([,e])=>void 0!==e).forEach(([t,r])=>{(void 0==e[t]||""===e[t])&&(e[t]=r)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e}])},60011,72484,e=>{"use strict";function t(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}e.s(["extendedEncodeURIComponent",()=>t],60011);var r=e.i(19483);e.s(["withBaseException",0,e=>({output:t,parsedBody:i,errorCode:s})=>{(({output:e,parsedBody:t,exceptionCtor:i,errorCode:s})=>{let a,n={httpStatusCode:(a=e).statusCode,requestId:a.headers["x-amzn-requestid"]??a.headers["x-amzn-request-id"]??a.headers["x-amz-request-id"],extendedRequestId:a.headers["x-amz-id-2"],cfId:a.headers["x-amz-cf-id"]},o=n.httpStatusCode?n.httpStatusCode+"":void 0,l=new i({name:t?.code||t?.Code||s||o||"UnknownError",$fault:"client",$metadata:n});throw(0,r.decorateServiceException)(l,t)})({output:t,parsedBody:i,exceptionCtor:e,errorCode:s})}],72484)},10430,(e,t,r)=>{t.exports=e.x("async_hooks",()=>require("async_hooks"))},96003,(e,t,r)=>{"use strict";let i;Object.defineProperty(r,"__esModule",{value:!0}),r.InvokeStore=void 0;let s=e.r(10430),a="1"===process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA||"true"===process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA;a||(globalThis.awslambda=globalThis.awslambda||{});let n={REQUEST_ID:Symbol("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol("_AWS_LAMBDA_X_RAY_TRACE_ID")};class o{static storage=new s.AsyncLocalStorage;static PROTECTED_KEYS=n;static run(e,t){return this.storage.run({...e},t)}static getContext(){return this.storage.getStore()}static get(e){let t=this.storage.getStore();return t?.[e]}static set(e,t){if(this.isProtectedKey(e))throw Error("Cannot modify protected Lambda context field");let r=this.storage.getStore();r&&(r[e]=t)}static getRequestId(){return this.get(this.PROTECTED_KEYS.REQUEST_ID)??"-"}static getXRayTraceId(){return this.get(this.PROTECTED_KEYS.X_RAY_TRACE_ID)}static hasContext(){return void 0!==this.storage.getStore()}static isProtectedKey(e){return e===this.PROTECTED_KEYS.REQUEST_ID||e===this.PROTECTED_KEYS.X_RAY_TRACE_ID}}!a&&globalThis.awslambda?.InvokeStore?i=globalThis.awslambda.InvokeStore:(i=o,!a&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=i)),r.InvokeStore=i},44788,e=>{e.v({partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],version:"1.1"})},96632,48505,56524,46717,38461,28474,25923,79787,22520,35153,35021,24642,81335,e=>{"use strict";let t;var r=e.i(89073);function i(e){return e}let s={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0};e.s(["getHostHeaderPlugin",0,e=>({applyToStack:t=>{t.add(t=>async i=>{if(!r.HttpRequest.isInstance(i.request))return t(i);let{request:s}=i,{handlerProtocol:a=""}=e.requestHandler.metadata||{};if(a.indexOf("h2")>=0&&!s.headers[":authority"])delete s.headers.host,s.headers[":authority"]=s.hostname+(s.port?":"+s.port:"");else if(!s.headers.host){let e=s.hostname;null!=s.port&&(e+=`:${s.port}`),s.headers.host=e}return t(i)},s)}}),"resolveHostHeaderConfig",()=>i],96632);let a={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0};e.s(["getLoggerPlugin",0,e=>({applyToStack:e=>{e.add((e,t)=>async r=>{try{let i=await e(r),{clientName:s,commandName:a,logger:n,dynamoDbDocumentClientOptions:o={}}=t,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:c}=o,u=l??t.inputFilterSensitiveLog,d=c??t.outputFilterSensitiveLog,{$metadata:h,...m}=i.output;return n?.info?.({clientName:s,commandName:a,input:u(r.input),output:d(m),metadata:h}),i}catch(l){let{clientName:e,commandName:i,logger:s,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:n}=a,o=n??t.inputFilterSensitiveLog;throw s?.error?.({clientName:e,commandName:i,input:o(r.input),error:l,metadata:l.$metadata}),l}},a)}})],48505);let n={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"};var o=e.i(96003);let l="X-Amzn-Trace-Id";e.s(["getRecursionDetectionPlugin",0,e=>({applyToStack:e=>{e.add(e=>async t=>{let{request:i}=t;if(!r.HttpRequest.isInstance(i))return e(t);let s=Object.keys(i.headers??{}).find(e=>e.toLowerCase()===l.toLowerCase())??l;if(i.headers.hasOwnProperty(s))return e(t);let a=process.env.AWS_LAMBDA_FUNCTION_NAME,n=process.env._X_AMZN_TRACE_ID,c=o.InvokeStore.getXRayTraceId()??n,u=e=>"string"==typeof e&&e.length>0;return u(a)&&u(c)&&(i.headers[l]=c),e({...t,request:i})},n)}})],56524);let c={};e.s(["customEndpointFunctions",0,c],46717);let u=RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),d=(e,t=!1)=>{if(!t)return u.test(e);for(let t of e.split("."))if(!d(t))return!1;return!0};e.s(["isValidHostLabel",0,d],38461);let h=RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),m=e=>h.test(e)||e.startsWith("[")&&e.endsWith("]");e.s(["isIpAddress",0,m],28474);let f=(e,t=!1)=>{if(t){for(let t of e.split("."))if(!f(t))return!1;return!0}return!(!d(e)||e.length<3||e.length>63||e!==e.toLowerCase()||m(e))},p=e.i(44788).default,g={isVirtualHostableS3Bucket:f,parseArn:e=>{let t=e.split(":");if(t.length<6)return null;let[r,i,s,a,n,...o]=t;return"arn"!==r||""===i||""===s||""===o.join(":")?null:{partition:i,service:s,region:a,accountId:n,resourceId:o.map(e=>e.split("/")).flat()}},partition:e=>{let{partitions:t}=p;for(let r of t){let{regions:t,outputs:i}=r;for(let[r,s]of Object.entries(t))if(r===e)return{...i,...s}}for(let r of t){let{regionRegex:t,outputs:i}=r;if(new RegExp(t).test(e))return{...i}}let r=t.find(e=>"aws"===e.id);if(!r)throw Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}}};function y(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}c.aws=g,e.s(["awsEndpointFunctions",0,g],25923),e.i(41175),e.s([],79787);let S=/\d{12}\.ddb/;async function w(e,t,r){let i=r.request;if(i?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&y(e,"PROTOCOL_RPC_V2_CBOR","M"),"function"==typeof t.retryStrategy){let r=await t.retryStrategy();"function"==typeof r.acquireInitialRetryToken?r.constructor?.name?.includes("Adaptive")?y(e,"RETRY_MODE_ADAPTIVE","F"):y(e,"RETRY_MODE_STANDARD","E"):y(e,"RETRY_MODE_LEGACY","D")}if("function"==typeof t.accountIdEndpointMode){let r=e.endpointV2;switch(String(r?.url?.hostname).match(S)&&y(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":y(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":y(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":y(e,"ACCOUNT_ID_MODE_REQUIRED","R")}}let s=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(s?.$source)for(let[t,r]of(s.accountId&&y(e,"RESOLVED_ACCOUNT_ID","T"),Object.entries(s.$source??{})))y(e,t,r)}let b="user-agent",E="x-amz-user-agent",v=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,T=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,R=e=>{let t=e[0].split("/").map(e=>e.replace(v,"-")).join("/"),r=e[1]?.replace(T,"-"),i=t.indexOf("/"),s=t.substring(0,i),a=t.substring(i+1);return"api"===s&&(a=a.toLowerCase()),[s,a,r].filter(e=>e&&e.length>0).reduce((e,t,r)=>{switch(r){case 0:return t;case 1:return`${e}/${t}`;default:return`${e}#${t}`}},"")},A={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0};e.s(["getUserAgentPlugin",0,e=>({applyToStack:t=>{t.add((t,i)=>async s=>{let{request:a}=s;if(!r.HttpRequest.isInstance(a))return t(s);let{headers:n}=a,o=i?.userAgent?.map(R)||[],l=(await e.defaultUserAgentProvider()).map(R);await w(i,e,s),l.push(`m/${function(e){let t="";for(let r in e){let i=e[r];if(t.length+i.length+1<=1024){t.length?t+=","+i:t+=i;continue}break}return t}(Object.assign({},i.__smithy_context?.features,i.__aws_sdk_context?.features))}`);let c=e?.customUserAgent?.map(R)||[],u=await e.userAgentAppId();u&&l.push(R([`app/${u}`]));let d=[].concat([...l,...o,...c]).join(" "),h=[...l.filter(e=>e.startsWith("aws-sdk-")),...c].join(" ");return"browser"!==e.runtime?(h&&(n[E]=n[E]?`${n[b]} ${h}`:h),n[b]=d):n[E]=d,t({...s,request:a})},A)}})],22520);let _=e=>{if("function"==typeof e)return e;let t=Promise.resolve(e);return()=>t};e.s(["normalizeProvider",0,_],35153);function C(e){let r=_(e.userAgentAppId??t),{customUserAgent:i}=e;return Object.assign(e,{customUserAgent:"string"==typeof i?[[i]]:i,userAgentAppId:async()=>{let t=await r();if(!(void 0===t||"string"==typeof t&&t.length<=50)){let r=e.logger?.constructor?.name!=="NoOpLogger"&&e.logger?e.logger:console;"string"!=typeof t?r?.warn("userAgentAppId must be a string or undefined."):t.length>50&&r?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return t}})}e.s(["DEFAULT_UA_APP_ID",0,t,"resolveUserAgentConfig",()=>C],35021);let I=e=>"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips")),O=e=>I(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e;e.s(["resolveRegionConfig",0,e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw Error("Region is missing");return Object.assign(e,{region:async()=>"string"==typeof t?O(t):O(await t()),useFipsEndpoint:async()=>!!I("string"==typeof t?t:await t())||("function"!=typeof r?Promise.resolve(!!r):r())})}],24642);class N{authSchemes=new Map;constructor(e){for(const[t,r]of Object.entries(e))void 0!==r&&this.authSchemes.set(t,r)}getIdentityProvider(e){return this.authSchemes.get(e)}}e.s(["DefaultIdentityProviderConfig",()=>N],81335)},92457,37383,64919,74016,e=>{"use strict";var t=e.i(80768);let r={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};e.s(["getHttpAuthSchemeEndpointRuleSetPlugin",0,(e,{httpAuthSchemeParametersProvider:i,identityProviderConfigProvider:s})=>({applyToStack:a=>{let n;a.addRelativeTo((n={httpAuthSchemeParametersProvider:i,identityProviderConfigProvider:s},(r,i)=>async s=>{let a=((e,t)=>{if(!t||0===t.length)return e;let r=[];for(let i of t)for(let t of e)t.schemeId.split("#")[1]===i&&r.push(t);for(let t of e)r.find(({schemeId:e})=>e===t.schemeId)||r.push(t);return r})(e.httpAuthSchemeProvider(await n.httpAuthSchemeParametersProvider(e,i,s.input)),e.authSchemePreference?await e.authSchemePreference():[]),o=function(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}(e.httpAuthSchemes),l=(0,t.getSmithyContext)(i),c=[];for(let t of a){let r=o.get(t.schemeId);if(!r){c.push(`HttpAuthScheme \`${t.schemeId}\` was not enabled for this service.`);continue}let s=r.identityProvider(await n.identityProviderConfigProvider(e));if(!s){c.push(`HttpAuthScheme \`${t.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:a={},signingProperties:u={}}=t.propertiesExtractor?.(e,i)||{};t.identityProperties=Object.assign(t.identityProperties||{},a),t.signingProperties=Object.assign(t.signingProperties||{},u),l.selectedHttpAuthScheme={httpAuthOption:t,identity:await s(t.identityProperties),signer:r.signer};break}if(!l.selectedHttpAuthScheme)throw Error(c.join("\n"));return r(s)}),r)}})],92457);var i=e.i(89073);let s={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"};e.s(["getHttpSigningPlugin",0,e=>({applyToStack:e=>{e.addRelativeTo((e,r)=>async s=>{if(!i.HttpRequest.isInstance(s.request))return e(s);let a=(0,t.getSmithyContext)(r).selectedHttpAuthScheme;if(!a)throw Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:n={}},identity:o,signer:l}=a,c=await e({...s,request:await l.sign(s.request,o,n)}).catch((l.errorHandler||(e=>e=>{throw e}))(n));return(l.successHandler||((e,t)=>{}))(c.response,n),c},s)}})],37383);let a="content-length",n={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0};e.s(["getContentLengthPlugin",0,e=>({applyToStack:t=>{var r;t.add((r=e.bodyLengthChecker,e=>async t=>{let s=t.request;if(i.HttpRequest.isInstance(s)){let{body:e,headers:t}=s;if(e&&-1===Object.keys(t).map(e=>e.toLowerCase()).indexOf(a))try{let t=r(e);s.headers={...s.headers,[a]:String(t)}}catch(e){}}return e({...t,request:s})}),n)}})],64919),e.s(["normalizeProvider",0,e=>{if("function"==typeof e)return e;let t=Promise.resolve(e);return()=>t}],74016)},14722,57759,68103,92898,53525,e=>{"use strict";var t,r,i=e.i(74016),s=e.i(62054),a=e.i(11384);e.s(["resolveEndpointConfig",0,e=>{let t,r=e.tls??!0,{endpoint:n,useDualstackEndpoint:o,useFipsEndpoint:l}=e,c=Object.assign(e,{endpoint:null!=n?async()=>(0,a.toEndpointV1)(await (0,i.normalizeProvider)(n)()):void 0,tls:r,isCustomEndpoint:!!n,useDualstackEndpoint:(0,i.normalizeProvider)(o??!1),useFipsEndpoint:(0,i.normalizeProvider)(l??!1)});return c.serviceConfiguredEndpoint=async()=>(e.serviceId&&!t&&(t=(0,s.getEndpointFromConfig)(e.serviceId)),t),c}],14722);var n=e.i(89073),o=e.i(31875);let l=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],c=["TimeoutError","RequestTimeout","RequestTimeoutException"],u=[500,502,503,504],d=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],h=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],m=e=>e.$metadata?.httpStatusCode===429||l.includes(e.name)||e.$retryable?.throttling==!0,f=(e,t=0)=>{let r;return e?.$retryable!==void 0||e.$metadata?.clockSkewCorrected||c.includes(e.name)||d.includes(e?.code||"")||h.includes(e?.code||"")||u.includes(e.$metadata?.httpStatusCode||0)||(r=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]),!!(e&&e instanceof TypeError)&&r.has(e.message))||void 0!==e.cause&&t<=10&&f(e.cause,t+1)};class p{trace(){}debug(){}info(){}warn(){}error(){}}e.s(["NoOpLogger",()=>p],57759);var g=e.i(54799);let y=g.default.randomUUID.bind(g.default),S=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));var w=e.i(88947);let b=e=>e?.body instanceof w.Readable||"undefined"!=typeof ReadableStream&&e?.body instanceof ReadableStream,E=e=>e instanceof Error?e:e instanceof Object?Object.assign(Error(),e):"string"==typeof e?Error(e):Error(`AWS SDK error wrapper for ${e}`),v=e=>{let t={error:e,errorType:T(e)},r=A(e.$response);return r&&(t.retryAfterHint=r),t},T=e=>m(e)?"THROTTLING":f(e)?"TRANSIENT":(e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;if(500<=t&&t<=599&&!f(e))return!0}return!1})(e)?"SERVER_ERROR":"CLIENT_ERROR",R={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},A=e=>{if(!o.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(e=>"retry-after"===e.toLowerCase());if(!t)return;let r=e.headers[t],i=Number(r);return new Date(Number.isNaN(i)?r:1e3*i)};e.s(["getRetryPlugin",0,e=>({applyToStack:t=>{t.add((t,r)=>async i=>{let s,a=await e.retryStrategy(),o=await e.maxAttempts();if(void 0===(s=a).acquireInitialRetryToken||void 0===s.refreshRetryTokenForRetry||void 0===s.recordSuccess)return a?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",a.mode]]),a.retry(t,i);{let e=await a.acquireInitialRetryToken(r.partition_id),s=Error(),l=0,c=0,{request:u}=i,d=n.HttpRequest.isInstance(u);for(d&&(u.headers["amz-sdk-invocation-id"]=(()=>{if(y)return y();let e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=15&e[6]|64,e[8]=63&e[8]|128,S[e[0]]+S[e[1]]+S[e[2]]+S[e[3]]+"-"+S[e[4]]+S[e[5]]+"-"+S[e[6]]+S[e[7]]+"-"+S[e[8]]+S[e[9]]+"-"+S[e[10]]+S[e[11]]+S[e[12]]+S[e[13]]+S[e[14]]+S[e[15]]})());;)try{d&&(u.headers["amz-sdk-request"]=`attempt=${l+1}; max=${o}`);let{response:r,output:s}=await t(i);return a.recordSuccess(e),s.$metadata.attempts=l+1,s.$metadata.totalRetryDelay=c,{response:r,output:s}}catch(n){let t=v(n);if(s=E(n),d&&b(u))throw(r.logger instanceof p?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),s;try{e=await a.refreshRetryTokenForRetry(e,t)}catch(e){throw s.$metadata||(s.$metadata={}),s.$metadata.attempts=l+1,s.$metadata.totalRetryDelay=c,s}l=e.getRetryCount();let i=e.getRetryDelay();c+=i,await new Promise(e=>setTimeout(e,i))}}},R)}})],68103),(t=r||(r={})).STANDARD="standard",t.ADAPTIVE="adaptive";let _=r.STANDARD;e.s(["DEFAULT_MAX_ATTEMPTS",0,3,"DEFAULT_RETRY_MODE",0,_,"RETRY_MODES",()=>r],92898);class C{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(e){this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;const t=this.getCurrentTimeInSeconds();this.lastThrottleTime=t,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){let t=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(e=>C.setTimeoutFn(e,t))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){let e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}let t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}updateClientSendingRate(e){let t;if(this.updateMeasuredRate(),m(e)){let e=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=e,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(e),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());let r=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(r)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let e=Math.floor(2*this.getCurrentTimeInSeconds())/2;if(this.requestCount++,e>this.lastTxRateBucket){let t=this.requestCount/(e-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(t*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=e}}getPrecise(e){return parseFloat(e.toFixed(8))}}let I=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(2e4,e),getRetryCost:()=>r});class O{maxAttempts;mode=r.STANDARD;capacity=500;retryBackoffStrategy=(()=>{let e=100;return{computeNextBackoffDelay:t=>Math.floor(Math.min(2e4,Math.random()*2**t*e)),setDelayBase:t=>{e=t}}})();maxAttemptsProvider;constructor(e){this.maxAttempts=e,this.maxAttemptsProvider="function"==typeof e?e:async()=>e}async acquireInitialRetryToken(e){return I({retryDelay:100,retryCount:0})}async refreshRetryTokenForRetry(e,t){let r=await this.getMaxAttempts();if(this.shouldRetry(e,t,r)){let r=t.errorType;this.retryBackoffStrategy.setDelayBase("THROTTLING"===r?500:100);let i=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),s=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,i):i,a=this.getCapacityCost(r);return this.capacity-=a,I({retryDelay:s,retryCount:e.getRetryCount()+1,retryCost:a})}throw Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(500,this.capacity+(e.getRetryCost()??1))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch(e){return console.warn("Max attempts provider could not resolve. Using default of 3"),3}}shouldRetry(e,t,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return"TRANSIENT"===e?10:5}isRetryableError(e){return"THROTTLING"===e||"TRANSIENT"===e}}class N{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=r.ADAPTIVE;constructor(e,t){this.maxAttemptsProvider=e;const{rateLimiter:r}=t??{};this.rateLimiter=r??new C,this.standardRetryStrategy=new O(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}let P="AWS_MAX_ATTEMPTS",x="max_attempts";e.s(["NODE_MAX_ATTEMPT_CONFIG_OPTIONS",0,{environmentVariableSelector:e=>{let t=e[P];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw Error(`Environment variable ${P} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[x];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw Error(`Shared config file entry ${x} mast be a number, got "${t}"`);return r},default:3},"NODE_RETRY_MODE_CONFIG_OPTIONS",0,{environmentVariableSelector:e=>e.AWS_RETRY_MODE,configFileSelector:e=>e.retry_mode,default:_},"resolveRetryConfig",0,e=>{let{retryStrategy:t,retryMode:s,maxAttempts:a}=e,n=(0,i.normalizeProvider)(a??3);return Object.assign(e,{maxAttempts:n,retryStrategy:async()=>t||(await (0,i.normalizeProvider)(s)()===r.ADAPTIVE?new N(n):new O(n))})}],53525)},29556,8407,63206,e=>{"use strict";var t,r,i=e.i(9396);class s{config;middlewareStack=(0,i.constructStack)();initConfig;handlers;constructor(e){this.config=e}send(e,t,r){let i,s="function"!=typeof t?t:void 0,a="function"==typeof t?t:r;if(void 0===s&&!0===this.config.cacheMiddleware){this.handlers||(this.handlers=new WeakMap);let t=this.handlers;t.has(e.constructor)?i=t.get(e.constructor):(i=e.resolveMiddleware(this.middlewareStack,this.config,s),t.set(e.constructor,i))}else delete this.handlers,i=e.resolveMiddleware(this.middlewareStack,this.config,s);if(!a)return i(e).then(e=>e.output);i(e).then(e=>a(null,e.output),e=>a(e)).catch(()=>{})}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}}e.s(["Client",()=>s],29556);var a=e.i(90771);let n=function(e){return o(e)&&e.expiration.getTime()-Date.now()<3e5},o=e=>void 0!==e.expiration;var l=e.i(35153),c=e.i(83784),u=e.i(55103);let d=e=>"string"==typeof e?(0,u.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e);e.s(["toUint8Array",0,d],8407);let h="X-Amz-Date",m="X-Amz-Signature",f="X-Amz-Security-Token",p="authorization",g=h.toLowerCase(),y=[p,g,"date"],S=m.toLowerCase(),w="x-amz-content-sha256",b=f.toLowerCase(),E={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},v=/^proxy-/,T=/^sec-/,R="AWS4-HMAC-SHA256",A="aws4_request",_={},C=[],I=(e,t,r)=>`${e}/${t}/${r}/${A}`,O=async(e,t,r,i,s)=>{let a=await N(e,t.secretAccessKey,t.accessKeyId),n=`${r}:${i}:${s}:${(0,c.toHex)(a)}:${t.sessionToken}`;if(n in _)return _[n];for(C.push(n);C.length>50;)delete _[C.shift()];let o=`AWS4${t.secretAccessKey}`;for(let t of[r,i,s,A])o=await N(e,o,t);return _[n]=o},N=(e,t,r)=>{let i=new e(t);return i.update(d(r)),i.digest()},P=({headers:e},t,r)=>{let i={};for(let s of Object.keys(e).sort()){if(void 0==e[s])continue;let a=s.toLowerCase();(!(a in E||t?.has(a)||v.test(a)||T.test(a))||r&&(!r||r.has(a)))&&(i[a]=e[s].trim().replace(/\s+/g," "))}return i};var x=e.i(34036);let $=async({headers:e,body:t},r)=>{for(let t of Object.keys(e))if(t.toLowerCase()===w)return e[t];if(void 0==t)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if("string"==typeof t||ArrayBuffer.isView(t)||(0,x.isArrayBuffer)(t)){let e=new r;return e.update(d(t)),(0,c.toHex)(await e.digest())}return"UNSIGNED-PAYLOAD"};class D{format(e){let t=[];for(let r of Object.keys(e)){let i=(0,u.fromUtf8)(r);t.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(e[r]))}let r=new Uint8Array(t.reduce((e,t)=>e+t.byteLength,0)),i=0;for(let e of t)r.set(e,i),i+=e.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([+!e.value]);case"byte":return Uint8Array.from([2,e.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let i=new Uint8Array(9);return i[0]=5,i.set(e.value.bytes,1),i;case"binary":let s=new DataView(new ArrayBuffer(3+e.value.byteLength));s.setUint8(0,6),s.setUint16(1,e.value.byteLength,!1);let a=new Uint8Array(s.buffer);return a.set(e.value,3),a;case"string":let n=(0,u.fromUtf8)(e.value),o=new DataView(new ArrayBuffer(3+n.byteLength));o.setUint8(0,7),o.setUint16(1,n.byteLength,!1);let l=new Uint8Array(o.buffer);return l.set(n,3),l;case"timestamp":let d=new Uint8Array(9);return d[0]=8,d.set(k.fromNumber(e.value.valueOf()).bytes,1),d;case"uuid":if(!M.test(e.value))throw Error(`Invalid UUID received: ${e.value}`);let h=new Uint8Array(17);return h[0]=9,h.set((0,c.fromHex)(e.value.replace(/\-/g,"")),1),h}}}(t=r||(r={}))[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid";let M=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class k{bytes;constructor(e){if(this.bytes=e,8!==e.byteLength)throw Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>0x8000000000000000||e<-0x8000000000000000)throw Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let t=new Uint8Array(8);for(let r=7,i=Math.abs(Math.round(e));r>-1&&i>0;r--,i/=256)t[r]=i;return e<0&&U(t),new k(t)}valueOf(){let e=this.bytes.slice(0),t=128&e[0];return t&&U(e),parseInt((0,c.toHex)(e),16)*(t?-1:1)}toString(){return String(this.valueOf())}}function U(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,0===e[t]);t--);}var L=e.i(89073);let F=e=>{for(let t of Object.keys((e=L.HttpRequest.clone(e)).headers))y.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e};var H=e.i(74016),j=e.i(12623);class z{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:e,credentials:t,region:r,service:i,sha256:s,uriEscapePath:a=!0}){this.service=i,this.sha256=s,this.uriEscapePath=a,this.applyChecksum="boolean"!=typeof e||e,this.regionProvider=(0,H.normalizeProvider)(r),this.credentialProvider=(0,H.normalizeProvider)(t)}createCanonicalRequest(e,t,r){let i=Object.keys(t).sort();return`${e.method}
${this.getCanonicalPath(e)}
${(({query:e={}})=>{let t=[],r={};for(let i of Object.keys(e)){if(i.toLowerCase()===S)continue;let s=(0,j.escapeUri)(i);t.push(s);let a=e[i];"string"==typeof a?r[s]=`${s}=${(0,j.escapeUri)(a)}`:Array.isArray(a)&&(r[s]=a.slice(0).reduce((e,t)=>e.concat([`${s}=${(0,j.escapeUri)(t)}`]),[]).sort().join("&"))}return t.sort().map(e=>r[e]).filter(e=>e).join("&")})(e)}
${i.map(e=>`${e}:${t[e]}`).join("\n")}

${i.join(";")}
${r}`}async createStringToSign(e,t,r,i){let s=new this.sha256;s.update(d(r));let a=await s.digest();return`${i}
${e}
${t}
${(0,c.toHex)(a)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let t=[];for(let r of e.split("/"))r?.length!==0&&"."!==r&&(".."===r?t.pop():t.push(r));let r=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return(0,j.escapeUri)(r).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if("object"!=typeof e||"string"!=typeof e.accessKeyId||"string"!=typeof e.secretAccessKey)throw Error("Resolved credential object is not valid")}formatDate(e){var t;let r=("number"==typeof(t=e)?new Date(1e3*t):"string"==typeof t?new Date(Number(t)?1e3*Number(t):t):t).toISOString().replace(/\.\d{3}Z$/,"Z").replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}}class B extends z{headerFormatter=new D;constructor({applyChecksum:e,credentials:t,region:r,service:i,sha256:s,uriEscapePath:a=!0}){super({applyChecksum:e,credentials:t,region:r,service:i,sha256:s,uriEscapePath:a})}async presign(e,t={}){let{signingDate:r=new Date,expiresIn:i=3600,unsignableHeaders:s,unhoistableHeaders:a,signableHeaders:n,hoistableHeaders:o,signingRegion:l,signingService:c}=t,u=await this.credentialProvider();this.validateResolvedCredentials(u);let d=l??await this.regionProvider(),{longDate:p,shortDate:g}=this.formatDate(r);if(i>604800)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let y=I(g,d,c??this.service),S=((e,t={})=>{let{headers:r,query:i={}}=L.HttpRequest.clone(e);for(let e of Object.keys(r)){let s=e.toLowerCase();("x-amz-"===s.slice(0,6)&&!t.unhoistableHeaders?.has(s)||t.hoistableHeaders?.has(s))&&(i[e]=r[e],delete r[e])}return{...e,headers:r,query:i}})(F(e),{unhoistableHeaders:a,hoistableHeaders:o});u.sessionToken&&(S.query[f]=u.sessionToken),S.query["X-Amz-Algorithm"]=R,S.query["X-Amz-Credential"]=`${u.accessKeyId}/${y}`,S.query[h]=p,S.query["X-Amz-Expires"]=i.toString(10);let w=P(S,s,n);return S.query["X-Amz-SignedHeaders"]=this.getCanonicalHeaderList(w),S.query[m]=await this.getSignature(p,y,this.getSigningKey(u,d,g,c),this.createCanonicalRequest(S,w,await $(e,this.sha256))),S}async sign(e,t){return"string"==typeof e?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:r=new Date,priorSignature:i,signingRegion:s,signingService:a}){let n=s??await this.regionProvider(),{shortDate:o,longDate:l}=this.formatDate(r),u=I(o,n,a??this.service),d=await $({headers:{},body:t},this.sha256),h=new this.sha256;h.update(e);let m=["AWS4-HMAC-SHA256-PAYLOAD",l,u,i,(0,c.toHex)(await h.digest()),d].join("\n");return this.signString(m,{signingDate:r,signingRegion:n,signingService:a})}async signMessage(e,{signingDate:t=new Date,signingRegion:r,signingService:i}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:r,signingService:i,priorSignature:e.priorSignature}).then(t=>({message:e.message,signature:t}))}async signString(e,{signingDate:t=new Date,signingRegion:r,signingService:i}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let a=r??await this.regionProvider(),{shortDate:n}=this.formatDate(t),o=new this.sha256(await this.getSigningKey(s,a,n,i));return o.update(d(e)),(0,c.toHex)(await o.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:r,unsignableHeaders:i,signingRegion:s,signingService:a}={}){let n=await this.credentialProvider();this.validateResolvedCredentials(n);let o=s??await this.regionProvider(),l=F(e),{longDate:c,shortDate:u}=this.formatDate(t),d=I(u,o,a??this.service);l.headers[g]=c,n.sessionToken&&(l.headers[b]=n.sessionToken);let h=await $(l,this.sha256);!((e,t)=>{for(let r of(e=e.toLowerCase(),Object.keys(t)))if(e===r.toLowerCase())return!0;return!1})(w,l.headers)&&this.applyChecksum&&(l.headers[w]=h);let m=P(l,i,r),f=await this.getSignature(c,d,this.getSigningKey(n,o,u,a),this.createCanonicalRequest(l,m,h));return l.headers[p]=`${R} Credential=${n.accessKeyId}/${d}, SignedHeaders=${this.getCanonicalHeaderList(m)}, Signature=${f}`,l}async getSignature(e,t,r,i){let s=await this.createStringToSign(e,t,i,R),a=new this.sha256(await r);return a.update(d(s)),(0,c.toHex)(await a.digest())}getSigningKey(e,t,r,i){return O(this.sha256,e,r,t,i||this.service)}}e.s(["resolveAwsSdkSigV4Config",0,e=>{let t,r,i=e.credentials,s=!!e.credentials;Object.defineProperty(e,"credentials",{set(r){r&&r!==i&&r!==t&&(s=!0);let c=function(e,{credentials:t,credentialDefaultProvider:r}){let i;return(i=t?t?.memoized?t:((e,t,r)=>{let i,s,a;if(void 0===e)return;let n="function"!=typeof e?async()=>Promise.resolve(e):e,o=!1,l=async e=>{s||(s=n(e));try{i=await s,a=!0,o=!1}finally{s=void 0}return i};return void 0===t?async e=>((!a||e?.forceRefresh)&&(i=await l(e)),i):async e=>((!a||e?.forceRefresh)&&(i=await l(e)),o||(r(i)?t(i)&&await l(e):o=!0),i)})(t,n,o):r?(0,l.normalizeProvider)(r(Object.assign({},e,{parentClientConfig:e}))):async()=>{throw Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")}).memoized=!0,i}(e,{credentials:i=r,credentialDefaultProvider:e.credentialDefaultProvider}),u=function(e,t){if(t.configBound)return t;let r=async r=>t({...r,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}(e,c);s&&!u.attributed?((t=async e=>u(e).then(e=>(0,a.setCredentialFeature)(e,"CREDENTIALS_CODE","e"))).memoized=u.memoized,t.configBound=u.configBound,t.attributed=!0):t=u},get:()=>t,enumerable:!0,configurable:!0}),e.credentials=i;let{signingEscapePath:c=!0,systemClockOffset:u=e.systemClockOffset||0,sha256:d}=e;return r=e.signer?(0,l.normalizeProvider)(e.signer):e.regionInfoProvider?()=>(0,l.normalizeProvider)(e.region)().then(async t=>[await e.regionInfoProvider(t,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},t]).then(([t,r])=>{let{signingRegion:i,signingService:s}=t;e.signingRegion=e.signingRegion||i||r,e.signingName=e.signingName||s||e.serviceId;let a={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:d,uriEscapePath:c};return new(e.signerConstructor||B)(a)}):async t=>{let r=(t=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await (0,l.normalizeProvider)(e.region)(),properties:{}},t)).signingRegion,i=t.signingName;e.signingRegion=e.signingRegion||r,e.signingName=e.signingName||i||e.serviceId;let s={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:d,uriEscapePath:c};return new(e.signerConstructor||B)(s)},Object.assign(e,{systemClockOffset:u,signingEscapePath:c,signer:r})}],63206)},5365,(e,t,r)=>{t.exports=e.x("process",()=>require("process"))},37680,51801,72716,72621,10334,44010,13401,77524,58570,e=>{"use strict";let t=e=>"string"==typeof e&&e.length>0?e.split(",").map(e=>e.trim()):[],r="AWS_AUTH_SCHEME_PREFERENCE",i="auth_scheme_preference";e.s(["NODE_AUTH_SCHEME_PREFERENCE_OPTIONS",0,{environmentVariableSelector:(e,i)=>{if(i?.signingName){let t;if(t=i.signingName,`AWS_BEARER_TOKEN_${t.replace(/[\s-]/g,"_").toUpperCase()}`in e)return["httpBearerAuth"]}if(r in e)return t(e[r])},configFileSelector:e=>{if(i in e)return t(e[i])},default:[]}],37680);let s={warningEmitted:!1};e.s(["emitWarningIfUnsupportedVersion",0,e=>{e&&!s.warningEmitted&&18>parseInt(e.substring(1,e.indexOf(".")))&&(s.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}],51801);let a={environmentVariableSelector:e=>e.AWS_SDK_UA_APP_ID,configFileSelector:e=>e.sdk_ua_app_id??e["sdk-ua-app-id"],default:e.i(35021).DEFAULT_UA_APP_ID};e.s(["NODE_APP_ID_CONFIG_OPTIONS",0,a],72716);var n,o,l=e.i(46786),c=e.i(5365);e.s(["createDefaultUserAgentProvider",0,({serviceId:e,clientVersion:t})=>async r=>{let i=[["aws-sdk-js",t],["ua","2.1"],[`os/${(0,l.platform)()}`,(0,l.release)()],["lang/js"],["md/nodejs",`${c.versions.node}`]],s=null;s&&i.push(s),e&&i.push([`api/${e}`,t]),c.env.AWS_EXECUTION_ENV&&i.push([`exec-env/${c.env.AWS_EXECUTION_ENV}`]);let a=await r?.userAgentAppId?.();return a?[...i,[`app/${a}`]]:[...i]}],72621),e.s(["NODE_REGION_CONFIG_FILE_OPTIONS",0,{preferredFile:"credentials"},"NODE_REGION_CONFIG_OPTIONS",0,{environmentVariableSelector:e=>e.AWS_REGION,configFileSelector:e=>e.region,default:()=>{throw Error("Region is missing")}}],10334);let u=(e,t,r)=>{if(t in e){if("true"===e[t])return!0;if("false"===e[t])return!1;throw Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}};(n=o||(o={})).ENV="env",n.CONFIG="shared config entry",e.s(["NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS",0,{environmentVariableSelector:e=>u(e,"AWS_USE_DUALSTACK_ENDPOINT",o.ENV),configFileSelector:e=>u(e,"use_dualstack_endpoint",o.CONFIG),default:!1}],44010),e.s(["NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS",0,{environmentVariableSelector:e=>u(e,"AWS_USE_FIPS_ENDPOINT",o.ENV),configFileSelector:e=>u(e,"use_fips_endpoint",o.CONFIG),default:!1}],13401);var d=e.i(47797),h=e.i(8407),m=e.i(874),f=e.i(54799);class p{algorithmIdentifier;secret;hash;constructor(e,t){this.algorithmIdentifier=e,this.secret=t,this.reset()}update(e,t){this.hash.update((0,h.toUint8Array)(g(e,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,f.createHmac)(this.algorithmIdentifier,g(this.secret)):(0,f.createHash)(this.algorithmIdentifier)}}function g(e,t){return m.Buffer.isBuffer(e)?e:"string"==typeof e?(0,d.fromString)(e,t):ArrayBuffer.isView(e)?(0,d.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,d.fromArrayBuffer)(e)}e.s(["Hash",()=>p],77524);var y=e.i(22734);e.s(["calculateBodyLength",0,e=>{if(!e)return 0;if("string"==typeof e)return Buffer.byteLength(e);if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.size)return e.size;if("number"==typeof e.start&&"number"==typeof e.end)return e.end+1-e.start;if("string"==typeof e.path||Buffer.isBuffer(e.path))return(0,y.lstatSync)(e.path).size;else if("number"==typeof e.fd)return(0,y.fstatSync)(e.fd).size;throw Error(`Body Length computation failed for ${e}`)}],58570)},60879,e=>{"use strict";var t=e.i(89073),r=e.i(31875);let i=e=>r.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0,s=e=>new Date(Date.now()+e),a=(e,t)=>{let r=Date.parse(e);return Math.abs(s(t).getTime()-r)>=3e5?r-Date.now():t},n=(e,t)=>{if(!t)throw Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},o=async e=>{let t=n("context",e.context),r=n("config",e.config),i=t.endpointV2?.properties?.authSchemes?.[0],s=n("signer",r.signer),a=await s(i),o=e?.signingRegion;return{config:r,signer:a,signingRegion:o,signingRegionSet:e?.signingRegionSet,signingName:e?.signingName}};class l{async sign(e,r,i){if(!t.HttpRequest.isInstance(e))throw Error("The request is not an instance of `HttpRequest` and cannot be signed");let a=await o(i),{config:n,signer:l}=a,{signingRegion:c,signingName:u}=a,d=i.context;if(d?.authSchemes?.length){let[e,t]=d.authSchemes;e?.name==="sigv4a"&&t?.name==="sigv4"&&(c=t?.signingRegion??c,u=t?.signingName??u)}return await l.sign(e,{signingDate:s(n.systemClockOffset),signingRegion:c,signingService:u})}errorHandler(e){return t=>{let r=t.ServerTime??i(t.$response);if(r){let i=n("config",e.config),s=i.systemClockOffset;i.systemClockOffset=a(r,i.systemClockOffset),i.systemClockOffset!==s&&t.$metadata&&(t.$metadata.clockSkewCorrected=!0)}throw t}}successHandler(e,t){let r=i(e);if(r){let e=n("config",t.config);e.systemClockOffset=a(r,e.systemClockOffset)}}}e.s(["AwsSdkSigV4Signer",()=>l],60879)},16116,35525,15557,85512,68992,74376,32519,70917,e=>{"use strict";class t{capacity;data=new Map;parameters=[];constructor({size:e,params:t}){this.capacity=e??50,t&&(this.parameters=t)}get(e,t){let r=this.hash(e);if(!1===r)return t();if(!this.data.has(r)){if(this.data.size>this.capacity+10){let e=this.data.keys(),t=0;for(;;){let{value:r,done:i}=e.next();if(this.data.delete(r),i||++t>10)break}}this.data.set(r,t())}return this.data.get(r)}size(){return this.data.size}hash(e){let t="",{parameters:r}=this;if(0===r.length)return!1;for(let i of r){let r=String(e[i]??"");if(r.includes("|;"))return!1;t+=r+"|;"}return t}}e.s(["EndpointCache",()=>t],16116);let r="endpoints";function i(e){return"object"!=typeof e||null==e?e:"ref"in e?`$${i(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(i).join(", ")})`:JSON.stringify(e,null,2)}class s extends Error{constructor(e){super(e),this.name="EndpointError"}}var a,n,o,l,c=e.i(46717);let u=(e,t)=>(e=>{let t=e.split("."),r=[];for(let i of t){let t=i.indexOf("[");if(-1!==t){if(i.indexOf("]")!==i.length-1)throw new s(`Path: '${e}' does not end with ']'`);let a=i.slice(t+1,-1);if(Number.isNaN(parseInt(a)))throw new s(`Invalid array index: '${a}' in path: '${e}'`);0!==t&&r.push(i.slice(0,t)),r.push(a)}else r.push(i)}return r})(t).reduce((r,i)=>{if("object"!=typeof r)throw new s(`Index '${i}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(i)]:r[i]},e);var d=e.i(38461);(a=o||(o={})).HTTP="http",a.HTTPS="https";var h=e.i(28474);let m={[o.HTTP]:80,[o.HTTPS]:443},f={booleanEquals:(e,t)=>e===t,getAttr:u,isSet:e=>null!=e,isValidHostLabel:d.isValidHostLabel,not:e=>!e,parseURL:e=>{let t=(()=>{try{if(e instanceof URL)return e;if("object"==typeof e&&"hostname"in e){let{hostname:t,port:r,protocol:i="",path:s="",query:a={}}=e,n=new URL(`${i}//${t}${r?`:${r}`:""}${s}`);return n.search=Object.entries(a).map(([e,t])=>`${e}=${t}`).join("&"),n}return new URL(e)}catch(e){return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:i,hostname:s,pathname:a,protocol:n,search:l}=t;if(l)return null;let c=n.slice(0,-1);if(!Object.values(o).includes(c))return null;let u=(0,h.isIpAddress)(s),d=r.includes(`${i}:${m[c]}`)||"string"==typeof e&&e.includes(`${i}:${m[c]}`),f=`${i}${d?`:${m[c]}`:""}`;return{scheme:c,authority:f,path:a,normalizedPath:a.endsWith("/")?a:`${a}/`,isIp:u}},stringEquals:(e,t)=>e===t,substring:(e,t,r,i)=>t>=r||e.length<r?null:i?e.substring(e.length-r,e.length-t):e.substring(t,r),uriEncode:e=>encodeURIComponent(e).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)},p=(e,t)=>{let r=[],i={...t.endpointParams,...t.referenceRecord},s=0;for(;s<e.length;){let t=e.indexOf("{",s);if(-1===t){r.push(e.slice(s));break}r.push(e.slice(s,t));let a=e.indexOf("}",t);if(-1===a){r.push(e.slice(t));break}"{"===e[t+1]&&"}"===e[a+1]&&(r.push(e.slice(t+1,a)),s=a+2);let n=e.substring(t+1,a);if(n.includes("#")){let[e,t]=n.split("#");r.push(u(i[e],t))}else r.push(i[n]);s=a+1}return r.join("")},g=(e,t,r)=>{if("string"==typeof e)return p(e,r);if(e.fn)return y(e,r);if(e.ref)return(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e])(e,r);throw new s(`'${t}': ${String(e)} is not a string, function or reference.`)},y=({fn:e,argv:t},r)=>{let i=t.map(e=>["boolean","number"].includes(typeof e)?e:g(e,"arg",r)),s=e.split(".");return s[0]in c.customEndpointFunctions&&null!=s[1]?c.customEndpointFunctions[s[0]][s[1]](...i):f[e](...i)},S=({assign:e,...t},a)=>{if(e&&e in a.referenceRecord)throw new s(`'${e}' is already defined in Reference Record.`);let n=y(t,a);return a.logger?.debug?.(`${r} evaluateCondition: ${i(t)} = ${i(n)}`),{result:""===n||!!n,...null!=e&&{toAssign:{name:e,value:n}}}},w=(e=[],t)=>{let s={};for(let a of e){let{result:e,toAssign:n}=S(a,{...t,referenceRecord:{...t.referenceRecord,...s}});if(!e)return{result:e};n&&(s[n.name]=n.value,t.logger?.debug?.(`${r} assign: ${n.name} := ${i(n.value)}`))}return{result:!0,referenceRecord:s}},b=(e,t)=>{if(Array.isArray(e))return e.map(e=>b(e,t));switch(typeof e){case"string":return p(e,t);case"object":if(null===e)throw new s(`Unexpected endpoint property: ${e}`);return E(e,t);case"boolean":return e;default:throw new s(`Unexpected endpoint property type: ${typeof e}`)}},E=(e,t)=>Object.entries(e).reduce((e,[r,i])=>({...e,[r]:b(i,t)}),{}),v=(e,t)=>{let{conditions:a,endpoint:n}=e,{result:o,referenceRecord:l}=w(a,t);if(!o)return;let c={...t,referenceRecord:{...t.referenceRecord,...l}},{url:u,properties:d,headers:h}=n;return t.logger?.debug?.(`${r} Resolving endpoint from template: ${i(n)}`),{...void 0!=h&&{headers:Object.entries(h).reduce((e,[t,r])=>({...e,[t]:r.map(e=>{let r=g(e,"Header value entry",c);if("string"!=typeof r)throw new s(`Header '${t}' value '${r}' is not a string`);return r})}),{})},...void 0!=d&&{properties:E(d,c)},url:((e,t)=>{let r=g(e,"Endpoint URL",t);if("string"==typeof r)try{return new URL(r)}catch(e){throw console.error(`Failed to construct URL with ${r}`,e),e}throw new s(`Endpoint URL must be a string, got ${typeof r}`)})(u,c)}},T=(e,t)=>{let{conditions:r,error:i}=e,{result:a,referenceRecord:n}=w(r,t);if(a)throw new s(g(i,"Error",{...t,referenceRecord:{...t.referenceRecord,...n}}))},R=(e,t)=>{let{conditions:r,rules:i}=e,{result:s,referenceRecord:a}=w(r,t);if(s)return A(i,{...t,referenceRecord:{...t.referenceRecord,...a}})},A=(e,t)=>{for(let r of e)if("endpoint"===r.type){let e=v(r,t);if(e)return e}else if("error"===r.type)T(r,t);else if("tree"===r.type){let e=R(r,t);if(e)return e}else throw new s(`Unknown endpoint rule: ${r}`);throw new s("Rules evaluation failed")};e.s(["resolveEndpoint",0,(e,t)=>{let{endpointParams:a,logger:n}=t,{parameters:o,rules:l}=e;t.logger?.debug?.(`${r} Initial EndpointParams: ${i(a)}`);let c=Object.entries(o).filter(([,e])=>null!=e.default).map(([e,t])=>[e,t.default]);if(c.length>0)for(let[e,t]of c)a[e]=a[e]??t;for(let e of Object.entries(o).filter(([,e])=>e.required).map(([e])=>e))if(null==a[e])throw new s(`Missing required parameter: '${e}'`);let u=A(l,{endpointParams:a,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${r} Resolved endpoint: ${i(u)}`),u}],35525),e.s(["loadConfigsForDefaultMode",0,e=>{switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}}],15557);var _=e.i(10334),C=e.i(15189),I=e.i(72783);let O="AWS_REGION",N="AWS_DEFAULT_REGION",P=["in-region","cross-region","mobile","standard","legacy"],x={environmentVariableSelector:e=>e.AWS_DEFAULTS_MODE,configFileSelector:e=>e.defaults_mode,default:"legacy"},$=async e=>{if(e){let t="function"==typeof e?await e():e,r=await D();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},D=async()=>{if(process.env.AWS_EXECUTION_ENV&&(process.env[O]||process.env[N]))return process.env[O]??process.env[N];if(!process.env.AWS_EC2_METADATA_DISABLED)try{let{getInstanceMetadataEndpoint:t,httpRequest:r}=await e.A(14277),i=await t();return(await r({...i,path:"/latest/meta-data/placement/region"})).toString()}catch(e){}};e.s(["resolveDefaultsModeConfig",0,({region:e=(0,C.loadConfig)(_.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,C.loadConfig)(x)}={})=>(0,I.memoize)(async()=>{let r="function"==typeof t?await t():t;switch(r?.toLowerCase()){case"auto":return $(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw Error(`Invalid parameter for "defaultsMode", expect ${P.join(", ")}, got ${r}`)}})],85512);let M=!1;e.s(["emitWarningIfUnsupportedVersion",0,e=>{e&&!M&&16>parseInt(e.substring(1,e.indexOf(".")))&&(M=!0)}],68992),e.s(["getAwsRegionExtensionConfiguration",0,e=>({setRegion(t){e.region=t},region:()=>e.region}),"resolveAwsRegionExtensionConfiguration",0,e=>({region:e.region()})],74376),e.s(["getHttpHandlerExtensionConfiguration",0,e=>({setHttpHandler(t){e.httpHandler=t},httpHandler:()=>e.httpHandler,updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs:()=>e.httpHandler.httpHandlerConfigs()}),"resolveHttpHandlerRuntimeConfig",0,e=>({httpHandler:e.httpHandler()})],32519),(n=l||(l={})).MD5="md5",n.CRC32="crc32",n.CRC32C="crc32c",n.SHA1="sha1",n.SHA256="sha256",e.s(["getDefaultExtensionConfiguration",0,e=>Object.assign((e=>{let t=[];for(let r in l){let i=l[r];void 0!==e[i]&&t.push({algorithmId:()=>i,checksumConstructor:()=>e[i]})}return{addChecksumAlgorithm(e){t.push(e)},checksumAlgorithms:()=>t}})(e),{setRetryStrategy(t){e.retryStrategy=t},retryStrategy:()=>e.retryStrategy}),"resolveDefaultRuntimeConfig",0,e=>{let t,r;return Object.assign((t={},e.checksumAlgorithms().forEach(e=>{t[e.algorithmId()]=e.checksumConstructor()}),t),((r={}).retryStrategy=e.retryStrategy(),r))}],70917)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__2cd3807e._.js.map
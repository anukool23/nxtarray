module.exports=[31875,e=>{"use strict";class t{statusCode;reason;headers;body;constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){return!!e&&"number"==typeof e.statusCode&&"object"==typeof e.headers}}e.s(["HttpResponse",()=>t])},47797,34036,e=>{"use strict";let t=e=>"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e);e.s(["isArrayBuffer",0,t],34036);var r=e.i(874);e.s(["fromArrayBuffer",0,(e,o=0,n=e.byteLength-o)=>{if(!t(e))throw TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return r.Buffer.from(e,o,n)},"fromString",0,(e,t)=>{if("string"!=typeof e)throw TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?r.Buffer.from(e,t):r.Buffer.from(e)}],47797)},49151,e=>{"use strict";var t=e.i(47797);let r=/^[A-Za-z0-9+/]*={0,2}$/;e.s(["fromBase64",0,e=>{if(3*e.length%4!=0)throw TypeError("Incorrect padding on base64 string.");if(!r.exec(e))throw TypeError("Invalid base64 string.");let o=(0,t.fromString)(e,"base64");return new Uint8Array(o.buffer,o.byteOffset,o.byteLength)}])},55103,e=>{"use strict";var t=e.i(47797);e.s(["fromUtf8",0,e=>{let r=(0,t.fromString)(e,"utf8");return new Uint8Array(r.buffer,r.byteOffset,r.byteLength/Uint8Array.BYTES_PER_ELEMENT)}])},71225,e=>{"use strict";var t=e.i(47797),r=e.i(55103);e.s(["toBase64",0,e=>{let o;if("object"!=typeof(o="string"==typeof e?(0,r.fromUtf8)(e):e)||"number"!=typeof o.byteOffset||"number"!=typeof o.byteLength)throw Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,t.fromArrayBuffer)(o.buffer,o.byteOffset,o.byteLength).toString("base64")}])},25145,e=>{"use strict";var t=e.i(47797);e.s(["toUtf8",0,e=>{if("string"==typeof e)return e;if("object"!=typeof e||"number"!=typeof e.byteOffset||"number"!=typeof e.byteLength)throw Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,t.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}])},89073,e=>{"use strict";class t{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){var r;let o=new t({...e,headers:{...e.headers}});return o.query&&(o.query=Object.keys(r=o.query).reduce((e,t)=>{let o=r[t];return{...e,[t]:Array.isArray(o)?[...o]:o}},{})),o}static isInstance(e){return!!e&&"method"in e&&"protocol"in e&&"hostname"in e&&"path"in e&&"object"==typeof e.query&&"object"==typeof e.headers}clone(){return t.clone(this)}}e.s(["HttpRequest",()=>t])},6257,e=>{"use strict";let t=e=>{if(null!=e){if("string"==typeof e){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&h.warn(l(`Expected number but observed string: ${e}`)),t}if("number"==typeof e)return e;throw TypeError(`Expected number, got ${typeof e}: ${e}`)}},r=Math.ceil(17014118346046923e22*(2-11920928955078125e-23)),o=e=>{let o=t(e);if(void 0!==o&&!Number.isNaN(o)&&o!==1/0&&o!==-1/0&&Math.abs(o)>r)throw TypeError(`Expected 32-bit float, got ${e}`);return o},n=e=>{if(null!=e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw TypeError(`Expected integer, got ${typeof e}: ${e}`)}},s=e=>i(e,32),i=(e,t)=>{let r=n(e);if(void 0!==r&&a(r,t)!==r)throw TypeError(`Expected ${t}-bit integer, got ${e}`);return r},a=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},f=e=>"string"==typeof e?t(u(e)):t(e),c=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,u=e=>{let t=e.match(c);if(null===t||t[0].length!==e.length)throw TypeError("Expected real number, got implicit NaN");return parseFloat(e)},l=e=>String(TypeError(e).stack||e).split("\n").slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join("\n"),h={warn:console.warn};e.s(["expectInt32",0,s,"expectNonNull",0,(e,t)=>{if(null==e){if(t)throw TypeError(`Expected a non-null value for ${t}`);throw TypeError("Expected a non-null value")}return e},"expectObject",0,e=>{if(null==e)return;if("object"==typeof e&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw TypeError(`Expected object, got ${t}: ${e}`)},"expectString",0,e=>{if(null!=e){if("string"==typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return h.warn(l(`Expected string, got ${typeof e}: ${e}`)),String(e);throw TypeError(`Expected string, got ${typeof e}: ${e}`)}},"parseBoolean",0,e=>{switch(e){case"true":return!0;case"false":return!1;default:throw Error(`Unable to parse boolean value "${e}"`)}},"strictParseByte",0,e=>"string"==typeof e?i(u(e),8):i(e,8),"strictParseDouble",0,f,"strictParseFloat",0,f,"strictParseFloat32",0,e=>"string"==typeof e?o(u(e)):o(e),"strictParseInt32",0,e=>"string"==typeof e?s(u(e)):s(e),"strictParseLong",0,e=>"string"==typeof e?n(u(e)):n(e),"strictParseShort",0,e=>"string"==typeof e?i(u(e),16):i(e,16)])},83784,e=>{"use strict";let t={},r={};for(let e=0;e<256;e++){let o=e.toString(16).toLowerCase();1===o.length&&(o=`0${o}`),t[e]=o,r[o]=e}function o(e){if(e.length%2!=0)throw Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let o=0;o<e.length;o+=2){let n=e.slice(o,o+2).toLowerCase();if(n in r)t[o/2]=r[n];else throw Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function n(e){let r="";for(let o=0;o<e.byteLength;o++)r+=t[e[o]];return r}e.s(["fromHex",()=>o,"toHex",()=>n])},84912,12623,e=>{"use strict";e.s(["DEFAULT_REQUEST_TIMEOUT",()=>l,"NodeHttpHandler",()=>h],84912);var t=e.i(31875);let r=e=>encodeURIComponent(e).replace(/[!'()*]/g,o),o=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;e.s(["escapeUri",0,r],12623);var n=e.i(21517),s=e.i(24836);let i=["ECONNRESET","EPIPE","ETIMEDOUT"],a=e=>clearTimeout(e),f=3e3;var c=e.i(88947);async function u(e,t,r=6e3){var o,n;let s=t.headers??{},i=s.Expect||s.expect,f=-1,l=!0;"100-continue"===i&&(l=await Promise.race([new Promise(e=>{f=Number(setTimeout(()=>e(!0),Math.max(6e3,r)))}),new Promise(t=>{e.on("continue",()=>{a(f),t(!0)}),e.on("response",()=>{a(f),t(!1)}),e.on("error",()=>{a(f),t(!1)})})])),l&&(o=e,(n=t.body)instanceof c.Readable?n.pipe(o):n?Buffer.isBuffer(n)||"string"==typeof n?o.end(n):"object"==typeof n&&n.buffer&&"number"==typeof n.byteOffset&&"number"==typeof n.byteLength?o.end(Buffer.from(n.buffer,n.byteOffset,n.byteLength)):o.end(Buffer.from(n)):o.end())}let l=0;class h{config;configProvider;socketWarningTimestamp=0;metadata={handlerProtocol:"http/1.1"};static create(e){return"function"==typeof e?.handle?e:new h(e)}static checkSocketUsage(e,t,r=console){let{sockets:o,requests:n,maxSockets:s}=e;if("number"!=typeof s||s===1/0||Date.now()-15e3<t)return t;if(o&&n)for(let e in o){let t=o[e]?.length??0,i=n[e]?.length??0;if(t>=s&&i>=2*s)return r?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${t} and ${i} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return t}constructor(e){this.configProvider=new Promise((t,r)=>{"function"==typeof e?e().then(e=>{t(this.resolveDefaultConfig(e))}).catch(r):t(this.resolveDefaultConfig(e))})}resolveDefaultConfig(e){let{requestTimeout:t,connectionTimeout:r,socketTimeout:o,socketAcquisitionWarningTimeout:i,httpAgent:a,httpsAgent:f}=e||{};return{connectionTimeout:r,requestTimeout:t??o,socketAcquisitionWarningTimeout:i,httpAgent:a instanceof n.Agent||"function"==typeof a?.destroy?a:new n.Agent({keepAlive:!0,maxSockets:50,...a}),httpsAgent:f instanceof s.Agent||"function"==typeof f?.destroy?f:new s.Agent({keepAlive:!0,maxSockets:50,...f}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(e,{abortSignal:o,requestTimeout:c}={}){return this.config||(this.config=await this.configProvider),new Promise((p,y)=>{let g,d,m=[],b=async e=>{await g,m.forEach(a),p(e)},E=async e=>{await g,m.forEach(a),y(e)};if(!this.config)throw Error("Node HTTP request handler config is not resolved");if(o?.aborted){let e=Error("Request aborted");e.name="AbortError",E(e);return}let w="https:"===e.protocol,A=w?this.config.httpsAgent:this.config.httpAgent;m.push(setTimeout(()=>{this.socketWarningTimestamp=h.checkSocketUsage(A,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));let T=function(e){let t=[];for(let o of Object.keys(e).sort()){let n=e[o];if(o=r(o),Array.isArray(n))for(let e=0,s=n.length;e<s;e++)t.push(`${o}=${r(n[e])}`);else{let e=o;(n||"string"==typeof n)&&(e+=`=${r(n)}`),t.push(e)}}return t.join("&")}(e.query||{});if(null!=e.username||null!=e.password){let t=e.username??"",r=e.password??"";d=`${t}:${r}`}let v=e.path;T&&(v+=`?${T}`),e.fragment&&(v+=`#${e.fragment}`);let $=e.hostname??"";$="["===$[0]&&$.endsWith("]")?e.hostname.slice(1,-1):e.hostname;let k={headers:e.headers,host:$,method:e.method,path:v,port:e.port,agent:A,auth:d},x=(w?s.request:n.request)(k,e=>{b({response:new t.HttpResponse({statusCode:e.statusCode||-1,reason:e.statusMessage,headers:(e=>{let t={};for(let r of Object.keys(e)){let o=e[r];t[r]=Array.isArray(o)?o.join(","):o}return t})(e.headers),body:e})})});if(x.on("error",e=>{i.includes(e.code)?E(Object.assign(e,{name:"TimeoutError"})):E(e)}),o){let e=()=>{x.destroy();let e=Error("Request aborted");e.name="AbortError",E(e)};"function"==typeof o.addEventListener?(o.addEventListener("abort",e,{once:!0}),x.once("close",()=>o.removeEventListener("abort",e))):o.onabort=e}let B=c??this.config.requestTimeout;m.push(((e,t,r=0)=>{if(!r)return -1;let o=o=>{let n=setTimeout(()=>{e.destroy(),t(Object.assign(Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r-o),s=e=>{e?.connecting?e.on("connect",()=>{a(n)}):a(n)};e.socket?s(e.socket):e.on("socket",s)};return r<2e3?(o(0),0):setTimeout(o.bind(null,1e3),1e3)})(x,E,this.config.connectionTimeout)),m.push(((e,t,r=l)=>{let o=o=>{let n=r-o,s=()=>{e.destroy(),t(Object.assign(Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))};e.socket?(e.socket.setTimeout(n,s),e.on("close",()=>e.socket?.removeListener("timeout",s))):e.setTimeout(n,s)};return 0<r&&r<6e3?(o(0),0):setTimeout(o.bind(null,3e3*(0!==r)),3e3)})(x,E,B));let S=k.agent;"object"==typeof S&&"keepAlive"in S&&m.push(((e,{keepAlive:t,keepAliveMsecs:r},o=f)=>{if(!0!==t)return -1;let n=()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",e=>{e.setKeepAlive(t,r||0)})};return 0===o?(n(),0):setTimeout(n,o)})(x,{keepAlive:S.keepAlive,keepAliveMsecs:S.keepAliveMsecs})),g=u(x,e,B).catch(e=>(m.forEach(a),y(e)))})}updateHttpClientConfig(e,t){this.config=void 0,this.configProvider=this.configProvider.then(r=>({...r,[e]:t}))}httpHandlerConfigs(){return this.config??{}}}},12764,e=>{"use strict";var t=e.i(88947);class r extends t.Writable{bufferedBytes=[];_write(e,t,r){this.bufferedBytes.push(e),r()}}async function o(e){let t=[],r=e.getReader(),o=!1,n=0;for(;!o;){let{done:e,value:s}=await r.read();s&&(t.push(s),n+=s.length),o=e}let s=new Uint8Array(n),i=0;for(let e of t)s.set(e,i),i+=e.length;return s}e.s(["streamCollector",0,e=>{let t;return(t=e,"function"==typeof ReadableStream&&t instanceof ReadableStream)?o(e):new Promise((t,o)=>{let n=new r;e.pipe(n),e.on("error",e=>{n.end(),o(e)}),n.on("error",o),n.on("finish",function(){t(new Uint8Array(Buffer.concat(this.bufferedBytes)))})})}],12764)}];

//# sourceMappingURL=node_modules_%40smithy_45c5b8ff._.js.map
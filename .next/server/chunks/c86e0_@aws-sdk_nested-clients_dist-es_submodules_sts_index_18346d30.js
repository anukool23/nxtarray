module.exports=[21671,e=>{"use strict";e.s([],69215),e.i(69215),e.s(["STSClient",()=>e_],96935);var t=e.i(96632),n=e.i(48505),i=e.i(56524),o=e.i(22520),r=e.i(35021),s=e.i(24642),a=e.i(81335),l=e.i(92457),d=e.i(37383),c=e.i(64919),u=e.i(14722),p=e.i(68103),m=e.i(53525),g=e.i(29556),f=e.i(63206),h=e.i(80768),S=e.i(74016);let E=async(e,t,n)=>({operation:(0,h.getSmithyContext)(t).operation,region:await (0,S.normalizeProvider)(e.region)()||(()=>{throw Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),y=e=>{let t=[];if("AssumeRoleWithWebIdentity"===e.operation)t.push({schemeId:"smithy.api#noAuth"});else t.push({schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})});return t},P={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var C=e.i(71795),I=e.i(60879),x=e.i(37680),v=e.i(51801),A=e.i(72716),R=e.i(72621),b=e.i(10334),w=e.i(44010),D=e.i(13401),T=e.i(75372),O=e.i(77524),k=e.i(15189),_=e.i(84912),W=e.i(12764),N=e.i(58570),F=e.i(92898),$=e.i(57759),L=e.i(41175),U=e.i(49151),j=e.i(71225),H=e.i(55103),z=e.i(25145);e.i(79787);var K=e.i(25923),M=e.i(46717),q=e.i(16116),G=e.i(35525);let V="required",B="type",X="argv",Y="booleanEquals",J="stringEquals",Q="sigv4",Z="us-east-1",ee="endpoint",et="https://sts.{Region}.{PartitionResult#dnsSuffix}",en="tree",ei="error",eo="getAttr",er={[V]:!1,[B]:"String"},es={[V]:!0,default:!1,[B]:"Boolean"},ea={ref:"Endpoint"},el={fn:"isSet",[X]:[{ref:"Region"}]},ed={ref:"Region"},ec={fn:"aws.partition",[X]:[ed],assign:"PartitionResult"},eu={ref:"UseFIPS"},ep={ref:"UseDualStack"},em={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:Q,signingName:"sts",signingRegion:Z}]},headers:{}},eg={},ef={conditions:[{fn:J,[X]:[ed,"aws-global"]}],[ee]:em,[B]:ee},eh={fn:Y,[X]:[eu,!0]},eS={fn:Y,[X]:[ep,!0]},eE={fn:eo,[X]:[{ref:"PartitionResult"},"supportsFIPS"]},ey={ref:"PartitionResult"},eP={fn:Y,[X]:[!0,{fn:eo,[X]:[ey,"supportsDualStack"]}]},eC=[{fn:"isSet",[X]:[ea]}],eI=[eh],ex=[eS],ev={version:"1.0",parameters:{Region:er,UseDualStack:es,UseFIPS:es,Endpoint:er,UseGlobalEndpoint:es},rules:[{conditions:[{fn:Y,[X]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[X]:eC},el,ec,{fn:Y,[X]:[eu,!1]},{fn:Y,[X]:[ep,!1]}],rules:[{conditions:[{fn:J,[X]:[ed,"ap-northeast-1"]}],endpoint:em,[B]:ee},{conditions:[{fn:J,[X]:[ed,"ap-south-1"]}],endpoint:em,[B]:ee},{conditions:[{fn:J,[X]:[ed,"ap-southeast-1"]}],endpoint:em,[B]:ee},{conditions:[{fn:J,[X]:[ed,"ap-southeast-2"]}],endpoint:em,[B]:ee},ef,{conditions:[{fn:J,[X]:[ed,"ca-central-1"]}],endpoint:em,[B]:ee},{conditions:[{fn:J,[X]:[ed,"eu-central-1"]}],endpoint:em,[B]:ee},{conditions:[{fn:J,[X]:[ed,"eu-north-1"]}],endpoint:em,[B]:ee},{conditions:[{fn:J,[X]:[ed,"eu-west-1"]}],endpoint:em,[B]:ee},{conditions:[{fn:J,[X]:[ed,"eu-west-2"]}],endpoint:em,[B]:ee},{conditions:[{fn:J,[X]:[ed,"eu-west-3"]}],endpoint:em,[B]:ee},{conditions:[{fn:J,[X]:[ed,"sa-east-1"]}],endpoint:em,[B]:ee},{conditions:[{fn:J,[X]:[ed,Z]}],endpoint:em,[B]:ee},{conditions:[{fn:J,[X]:[ed,"us-east-2"]}],endpoint:em,[B]:ee},{conditions:[{fn:J,[X]:[ed,"us-west-1"]}],endpoint:em,[B]:ee},{conditions:[{fn:J,[X]:[ed,"us-west-2"]}],endpoint:em,[B]:ee},{endpoint:{url:et,properties:{authSchemes:[{name:Q,signingName:"sts",signingRegion:"{Region}"}]},headers:eg},[B]:ee}],[B]:en},{conditions:eC,rules:[{conditions:eI,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[B]:ei},{conditions:ex,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[B]:ei},{endpoint:{url:ea,properties:eg,headers:eg},[B]:ee}],[B]:en},{conditions:[el],rules:[{conditions:[ec],rules:[{conditions:[eh,eS],rules:[{conditions:[{fn:Y,[X]:[!0,eE]},eP],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:eg,headers:eg},[B]:ee}],[B]:en},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[B]:ei}],[B]:en},{conditions:eI,rules:[{conditions:[{fn:Y,[X]:[eE,!0]}],rules:[{conditions:[{fn:J,[X]:[{fn:eo,[X]:[ey,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:eg,headers:eg},[B]:ee},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:eg,headers:eg},[B]:ee}],[B]:en},{error:"FIPS is enabled but this partition does not support FIPS",[B]:ei}],[B]:en},{conditions:ex,rules:[{conditions:[eP],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:eg,headers:eg},[B]:ee}],[B]:en},{error:"DualStack is enabled but this partition does not support DualStack",[B]:ei}],[B]:en},ef,{endpoint:{url:et,properties:eg,headers:eg},[B]:ee}],[B]:en}],[B]:en},{error:"Invalid Configuration: Missing Region",[B]:ei}]},eA=new q.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),eR=(e,t={})=>eA.get(e,()=>(0,G.resolveEndpoint)(ev,{endpointParams:e,logger:t.logger}));M.customEndpointFunctions.aws=K.awsEndpointFunctions;var eb=e.i(15557),ew=e.i(85512),eD=e.i(68992),eT=e.i(74376),eO=e.i(32519),ek=e.i(70917);class e_ extends g.Client{config;constructor(...[e]){const g=(e=>{(0,eD.emitWarningIfUnsupportedVersion)(process.version);let t=(0,ew.resolveDefaultsModeConfig)(e),n=()=>t().then(eb.loadConfigsForDefaultMode),i={apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??U.fromBase64,base64Encoder:e?.base64Encoder??j.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??eR,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??y,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new I.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new T.NoAuthSigner}],logger:e?.logger??new $.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??L.parseUrl,utf8Decoder:e?.utf8Decoder??H.fromUtf8,utf8Encoder:e?.utf8Encoder??z.toUtf8};(0,v.emitWarningIfUnsupportedVersion)(process.version);let o={profile:e?.profile,logger:i.logger};return{...i,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,k.loadConfig)(x.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,o),bodyLengthChecker:e?.bodyLengthChecker??N.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,R.createDefaultUserAgentProvider)({serviceId:i.serviceId,clientVersion:C.default.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4")||(async t=>await e.credentialDefaultProvider(t?.__config||{})()),signer:new I.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new T.NoAuthSigner}],maxAttempts:e?.maxAttempts??(0,k.loadConfig)(m.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,k.loadConfig)(b.NODE_REGION_CONFIG_OPTIONS,{...b.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:_.NodeHttpHandler.create(e?.requestHandler??n),retryMode:e?.retryMode??(0,k.loadConfig)({...m.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await n()).retryMode||F.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??O.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??W.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,k.loadConfig)(w.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,k.loadConfig)(D.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,k.loadConfig)(A.NODE_APP_ID_CONFIG_OPTIONS,o)}})(e||{});super(g),this.initConfig=g;const h=(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}))(g),P=(0,r.resolveUserAgentConfig)(h),K=(0,m.resolveRetryConfig)(P),M=(0,s.resolveRegionConfig)(K),q=(0,t.resolveHostHeaderConfig)(M),G=((e,t)=>{let n,i,o,r=Object.assign((0,eT.getAwsRegionExtensionConfiguration)(e),(0,ek.getDefaultExtensionConfiguration)(e),(0,eO.getHttpHandlerExtensionConfiguration)(e),(n=e.httpAuthSchemes,i=e.httpAuthSchemeProvider,o=e.credentials,{setHttpAuthScheme(e){let t=n.findIndex(t=>t.schemeId===e.schemeId);-1===t?n.push(e):n.splice(t,1,e)},httpAuthSchemes:()=>n,setHttpAuthSchemeProvider(e){i=e},httpAuthSchemeProvider:()=>i,setCredentials(e){o=e},credentials:()=>o}));return t.forEach(e=>e.configure(r)),Object.assign(e,(0,eT.resolveAwsRegionExtensionConfiguration)(r),(0,ek.resolveDefaultRuntimeConfig)(r),(0,eO.resolveHttpHandlerRuntimeConfig)(r),{httpAuthSchemes:r.httpAuthSchemes(),httpAuthSchemeProvider:r.httpAuthSchemeProvider(),credentials:r.credentials()})})((e=>{let t=Object.assign(e,{stsClientCtor:e_});return Object.assign((0,f.resolveAwsSdkSigV4Config)(t),{authSchemePreference:(0,S.normalizeProvider)(e.authSchemePreference??[])})})((0,u.resolveEndpointConfig)(q)),e?.extensions||[]);this.config=G,this.middlewareStack.use((0,o.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,p.getRetryPlugin)(this.config)),this.middlewareStack.use((0,c.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,t.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,n.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,i.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,l.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:E,identityProviderConfigProvider:async e=>new a.DefaultIdentityProviderConfig({"aws.auth#sigv4":e.credentials})})),this.middlewareStack.use((0,d.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}}e.i(96935),e.s(["STSClient",()=>e_,"__Client",()=>g.Client],67946),e.i(67946);var eW=e.i(48648),eN=e.i(55038),eF=e.i(45973),e$=e.i(63413),eL=e.i(67109),eU=e.i(19483);class ej extends eU.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,ej.prototype)}}let eH=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:eL.SENSITIVE_STRING}}),ez=e=>({...e,...e.Credentials&&{Credentials:eH(e.Credentials)}});class eK extends ej{name="ExpiredTokenException";$fault="client";constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,eK.prototype)}}class eM extends ej{name="MalformedPolicyDocumentException";$fault="client";constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),Object.setPrototypeOf(this,eM.prototype)}}class eq extends ej{name="PackedPolicyTooLargeException";$fault="client";constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),Object.setPrototypeOf(this,eq.prototype)}}class eG extends ej{name="RegionDisabledException";$fault="client";constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),Object.setPrototypeOf(this,eG.prototype)}}class eV extends ej{name="IDPRejectedClaimException";$fault="client";constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),Object.setPrototypeOf(this,eV.prototype)}}class eB extends ej{name="InvalidIdentityTokenException";$fault="client";constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,eB.prototype)}}let eX=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:eL.SENSITIVE_STRING}}),eY=e=>({...e,...e.Credentials&&{Credentials:eH(e.Credentials)}});class eJ extends ej{name="IDPCommunicationErrorException";$fault="client";constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),Object.setPrototypeOf(this,eJ.prototype)}}e.s(["AssumeRoleResponseFilterSensitiveLog",0,ez,"AssumeRoleWithWebIdentityRequestFilterSensitiveLog",0,eX,"AssumeRoleWithWebIdentityResponseFilterSensitiveLog",0,eY,"CredentialsFilterSensitiveLog",0,eH,"ExpiredTokenException",()=>eK,"IDPCommunicationErrorException",()=>eJ,"IDPRejectedClaimException",()=>eV,"InvalidIdentityTokenException",()=>eB,"MalformedPolicyDocumentException",()=>eM,"PackedPolicyTooLargeException",()=>eq,"RegionDisabledException",()=>eG],46914);var eQ=e.i(46818),eZ=e.i(89073);e.i(14988);var e0=e.i(6257),e1=e.i(60011),e5=e.i(19898),e2=e.i(72484);let e4=async(e,t)=>{let n;return n=ni({...ts(e,t),[tO]:t_,[t8]:tT}),tw(t,tD,"/",void 0,n)},e3=async(e,t)=>{let n;return n=ni({...ta(e,t),[tO]:tF,[t8]:tT}),tw(t,tD,"/",void 0,n)},e6=async(e,t)=>{if(e.statusCode>=300)return e8(e,t);let n=await (0,eQ.parseXmlBody)(e.body,t),i={};return i=th(n.AssumeRoleResult,t),{$metadata:tR(e),...i}},e7=async(e,t)=>{if(e.statusCode>=300)return e8(e,t);let n=await (0,eQ.parseXmlBody)(e.body,t),i={};return i=tS(n.AssumeRoleWithWebIdentityResult,t),{$metadata:tR(e),...i}},e8=async(e,t)=>{let n={...e,body:await (0,eQ.parseXmlErrorBody)(e.body,t)},i=no(e,n.body);switch(i){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await e9(n,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await ti(n,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await to(n,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await tr(n,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await te(n,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await tt(n,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await tn(n,t);default:return tb({output:e,parsedBody:n.body.Error,errorCode:i})}},e9=async(e,t)=>{let n=e.body,i=ty(n.Error,t),o=new eK({$metadata:tR(e),...i});return(0,eU.decorateServiceException)(o,n)},te=async(e,t)=>{let n=e.body,i=tP(n.Error,t),o=new eJ({$metadata:tR(e),...i});return(0,eU.decorateServiceException)(o,n)},tt=async(e,t)=>{let n=e.body,i=tC(n.Error,t),o=new eV({$metadata:tR(e),...i});return(0,eU.decorateServiceException)(o,n)},tn=async(e,t)=>{let n=e.body,i=tI(n.Error,t),o=new eB({$metadata:tR(e),...i});return(0,eU.decorateServiceException)(o,n)},ti=async(e,t)=>{let n=e.body,i=tx(n.Error,t),o=new eM({$metadata:tR(e),...i});return(0,eU.decorateServiceException)(o,n)},to=async(e,t)=>{let n=e.body,i=tv(n.Error,t),o=new eq({$metadata:tR(e),...i});return(0,eU.decorateServiceException)(o,n)},tr=async(e,t)=>{let n=e.body,i=tA(n.Error,t),o=new eG({$metadata:tR(e),...i});return(0,eU.decorateServiceException)(o,n)},ts=(e,t)=>{let n={};if(null!=e[tQ]&&(n[tQ]=e[tQ]),null!=e[tZ]&&(n[tZ]=e[tZ]),null!=e[tG]){let i=tl(e[tG],t);e[tG]?.length===0&&(n.PolicyArns=[]),Object.entries(i).forEach(([e,t])=>{n[`PolicyArns.${e}`]=t})}if(null!=e[tq]&&(n[tq]=e[tq]),null!=e[tH]&&(n[tH]=e[tH]),null!=e[t3]){let i=tg(e[t3],t);e[t3]?.length===0&&(n.Tags=[]),Object.entries(i).forEach(([e,t])=>{n[`Tags.${e}`]=t})}if(null!=e[t7]){let i=tm(e[t7],t);e[t7]?.length===0&&(n.TransitiveTagKeys=[]),Object.entries(i).forEach(([e,t])=>{n[`TransitiveTagKeys.${e}`]=t})}if(null!=e[tK]&&(n[tK]=e[tK]),null!=e[t2]&&(n[t2]=e[t2]),null!=e[t6]&&(n[t6]=e[t6]),null!=e[t5]&&(n[t5]=e[t5]),null!=e[tB]){let i=tu(e[tB],t);e[tB]?.length===0&&(n.ProvidedContexts=[]),Object.entries(i).forEach(([e,t])=>{n[`ProvidedContexts.${e}`]=t})}return n},ta=(e,t)=>{let n={};if(null!=e[tQ]&&(n[tQ]=e[tQ]),null!=e[tZ]&&(n[tZ]=e[tZ]),null!=e[ne]&&(n[ne]=e[ne]),null!=e[tX]&&(n[tX]=e[tX]),null!=e[tG]){let i=tl(e[tG],t);e[tG]?.length===0&&(n.PolicyArns=[]),Object.entries(i).forEach(([e,t])=>{n[`PolicyArns.${e}`]=t})}return null!=e[tq]&&(n[tq]=e[tq]),null!=e[tH]&&(n[tH]=e[tH]),n},tl=(e,t)=>{let n={},i=1;for(let o of e)null!==o&&(Object.entries(td(o,t)).forEach(([e,t])=>{n[`member.${i}.${e}`]=t}),i++);return n},td=(e,t)=>{let n={};return null!=e[nt]&&(n[nt]=e[nt]),n},tc=(e,t)=>{let n={};return null!=e[tV]&&(n[tV]=e[tV]),null!=e[tj]&&(n[tj]=e[tj]),n},tu=(e,t)=>{let n={},i=1;for(let o of e)null!==o&&(Object.entries(tc(o,t)).forEach(([e,t])=>{n[`member.${i}.${e}`]=t}),i++);return n},tp=(e,t)=>{let n={};return null!=e[tM]&&(n[tM]=e[tM]),null!=e[t9]&&(n[t9]=e[t9]),n},tm=(e,t)=>{let n={},i=1;for(let t of e)null!==t&&(n[`member.${i}`]=t,i++);return n},tg=(e,t)=>{let n={},i=1;for(let o of e)null!==o&&(Object.entries(tp(o,t)).forEach(([e,t])=>{n[`member.${i}.${e}`]=t}),i++);return n},tf=(e,t)=>{let n={};return null!=e[tW]&&(n[tW]=(0,e0.expectString)(e[tW])),null!=e[t$]&&(n[t$]=(0,e0.expectString)(e[t$])),n},th=(e,t)=>{let n={};return null!=e[tU]&&(n[tU]=tE(e[tU],t)),null!=e[tN]&&(n[tN]=tf(e[tN],t)),null!=e[tY]&&(n[tY]=(0,e0.strictParseInt32)(e[tY])),null!=e[t5]&&(n[t5]=(0,e0.expectString)(e[t5])),n},tS=(e,t)=>{let n={};return null!=e[tU]&&(n[tU]=tE(e[tU],t)),null!=e[t1]&&(n[t1]=(0,e0.expectString)(e[t1])),null!=e[tN]&&(n[tN]=tf(e[tN],t)),null!=e[tY]&&(n[tY]=(0,e0.strictParseInt32)(e[tY])),null!=e[tJ]&&(n[tJ]=(0,e0.expectString)(e[tJ])),null!=e[tL]&&(n[tL]=(0,e0.expectString)(e[tL])),null!=e[t5]&&(n[t5]=(0,e0.expectString)(e[t5])),n},tE=(e,t)=>{let n={};return null!=e[tk]&&(n[tk]=(0,e0.expectString)(e[tk])),null!=e[t0]&&(n[t0]=(0,e0.expectString)(e[t0])),null!=e[t4]&&(n[t4]=(0,e0.expectString)(e[t4])),null!=e[tz]&&(n[tz]=(0,e0.expectNonNull)((0,e5.parseRfc3339DateTimeWithOffset)(e[tz]))),n},ty=(e,t)=>{let n={};return null!=e[nn]&&(n[nn]=(0,e0.expectString)(e[nn])),n},tP=(e,t)=>{let n={};return null!=e[nn]&&(n[nn]=(0,e0.expectString)(e[nn])),n},tC=(e,t)=>{let n={};return null!=e[nn]&&(n[nn]=(0,e0.expectString)(e[nn])),n},tI=(e,t)=>{let n={};return null!=e[nn]&&(n[nn]=(0,e0.expectString)(e[nn])),n},tx=(e,t)=>{let n={};return null!=e[nn]&&(n[nn]=(0,e0.expectString)(e[nn])),n},tv=(e,t)=>{let n={};return null!=e[nn]&&(n[nn]=(0,e0.expectString)(e[nn])),n},tA=(e,t)=>{let n={};return null!=e[nn]&&(n[nn]=(0,e0.expectString)(e[nn])),n},tR=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),tb=(0,e2.withBaseException)(ej),tw=async(e,t,n,i,o)=>{let{hostname:r,protocol:s="https",port:a,path:l}=await e.endpoint(),d={protocol:s,hostname:r,port:a,method:"POST",path:l.endsWith("/")?l.slice(0,-1)+n:l+n,headers:t};return void 0!==i&&(d.hostname=i),void 0!==o&&(d.body=o),new eZ.HttpRequest(d)},tD={"content-type":"application/x-www-form-urlencoded"},tT="2011-06-15",tO="Action",tk="AccessKeyId",t_="AssumeRole",tW="AssumedRoleId",tN="AssumedRoleUser",tF="AssumeRoleWithWebIdentity",t$="Arn",tL="Audience",tU="Credentials",tj="ContextAssertion",tH="DurationSeconds",tz="Expiration",tK="ExternalId",tM="Key",tq="Policy",tG="PolicyArns",tV="ProviderArn",tB="ProvidedContexts",tX="ProviderId",tY="PackedPolicySize",tJ="Provider",tQ="RoleArn",tZ="RoleSessionName",t0="SecretAccessKey",t1="SubjectFromWebIdentityToken",t5="SourceIdentity",t2="SerialNumber",t4="SessionToken",t3="Tags",t6="TokenCode",t7="TransitiveTagKeys",t8="Version",t9="Value",ne="WebIdentityToken",nt="arn",nn="message",ni=e=>Object.entries(e).map(([e,t])=>(0,e1.extendedEncodeURIComponent)(e)+"="+(0,e1.extendedEncodeURIComponent)(t)).join("&"),no=(e,t)=>t.Error?.Code!==void 0?t.Error.Code:404==e.statusCode?"NotFound":void 0;class nr extends e$.Command.classBuilder().ep(P).m(function(e,t,n,i){return[(0,eF.getSerdePlugin)(n,this.serialize,this.deserialize),(0,eN.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,ez).ser(e4).de(e6).build(){}e.s(["AssumeRoleCommand",()=>nr],32051);var ns=eN,na=eF,nl=e$;class nd extends nl.Command.classBuilder().ep(P).m(function(e,t,n,i){return[(0,na.getSerdePlugin)(n,this.serialize,this.deserialize),(0,ns.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(eX,eY).ser(e3).de(e7).build(){}e.s(["AssumeRoleWithWebIdentityCommand",()=>nd],87933);class nc extends e_{}(0,eW.createAggregatedClient)({AssumeRoleCommand:nr,AssumeRoleWithWebIdentityCommand:nd},nc),e.s(["STS",()=>nc],59503),e.i(59503),e.s([],27649),e.i(27649),e.i(32051),e.s(["$Command",()=>e$.Command,"AssumeRoleCommand",()=>nr],42577),e.i(42577),e.i(87933),e.s(["$Command",()=>e$.Command,"AssumeRoleWithWebIdentityCommand",()=>nd],83858),e.i(83858),e.s(["$Command",()=>e$.Command,"AssumeRoleCommand",()=>nr,"AssumeRoleWithWebIdentityCommand",()=>nd],3910),e.i(3910),e.s([],83105),e.i(83105),e.i(46914),e.s(["AssumeRoleResponseFilterSensitiveLog",0,ez,"AssumeRoleWithWebIdentityRequestFilterSensitiveLog",0,eX,"AssumeRoleWithWebIdentityResponseFilterSensitiveLog",0,eY,"CredentialsFilterSensitiveLog",0,eH,"ExpiredTokenException",()=>eK,"IDPCommunicationErrorException",()=>eJ,"IDPRejectedClaimException",()=>eV,"InvalidIdentityTokenException",()=>eB,"MalformedPolicyDocumentException",()=>eM,"PackedPolicyTooLargeException",()=>eq,"RegionDisabledException",()=>eG],22148),e.i(22148);var nu=e.i(90771);let np="us-east-1",nm=e=>{if("string"==typeof e?.Arn){let t=e.Arn.split(":");if(t.length>4&&""!==t[4])return t[4]}},ng=async(e,t,n)=>{let i="function"==typeof e?await e():e,o="function"==typeof t?await t():t;return n?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${i} (provider)`,`${o} (parent client)`,`${np} (STS default)`),i??o??np},nf=e=>e?.metadata?.handlerProtocol==="h2",nh=(e,t)=>t?class extends e{constructor(e){for(const n of(super(e),t))this.middlewareStack.use(n)}}:e,nS=(e={},t)=>{var n;let i,o;return n=nh(e_,t),async(t,r)=>{if(o=t,!i){let{logger:t=e?.parentClientConfig?.logger,region:r,requestHandler:s=e?.parentClientConfig?.requestHandler,credentialProviderLogger:a}=e,l=await ng(r,e?.parentClientConfig?.region,a),d=!nf(s);i=new n({profile:e?.parentClientConfig?.profile,credentialDefaultProvider:()=>async()=>o,region:l,requestHandler:d?s:void 0,logger:t})}let{Credentials:s,AssumedRoleUser:a}=await i.send(new nr(r));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw Error(`Invalid response from STS.assumeRole call with role ${r.RoleArn}`);let l=nm(a),d={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...l&&{accountId:l}};return(0,nu.setCredentialFeature)(d,"CREDENTIALS_STS_ASSUME_ROLE","i"),d}},nE=(e={},t)=>{var n;let i;return n=nh(e_,t),async t=>{if(!i){let{logger:t=e?.parentClientConfig?.logger,region:o,requestHandler:r=e?.parentClientConfig?.requestHandler,credentialProviderLogger:s}=e,a=await ng(o,e?.parentClientConfig?.region,s),l=!nf(r);i=new n({profile:e?.parentClientConfig?.profile,region:a,requestHandler:l?r:void 0,logger:t})}let{Credentials:o,AssumedRoleUser:r}=await i.send(new nd(t));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${t.RoleArn}`);let s=nm(r),a={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...s&&{accountId:s}};return s&&(0,nu.setCredentialFeature)(a,"RESOLVED_ACCOUNT_ID","T"),(0,nu.setCredentialFeature)(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},ny=e=>t=>e({roleAssumer:nS(t),roleAssumerWithWebIdentity:nE(t),...t});e.s(["decorateDefaultCredentialProvider",0,ny,"getDefaultRoleAssumer",0,nS,"getDefaultRoleAssumerWithWebIdentity",0,nE],42332),e.i(42332),e.s(["$Command",()=>e$.Command,"AssumeRoleCommand",()=>nr,"AssumeRoleResponseFilterSensitiveLog",0,ez,"AssumeRoleWithWebIdentityCommand",()=>nd,"AssumeRoleWithWebIdentityRequestFilterSensitiveLog",0,eX,"AssumeRoleWithWebIdentityResponseFilterSensitiveLog",0,eY,"CredentialsFilterSensitiveLog",0,eH,"ExpiredTokenException",()=>eK,"IDPCommunicationErrorException",()=>eJ,"IDPRejectedClaimException",()=>eV,"InvalidIdentityTokenException",()=>eB,"MalformedPolicyDocumentException",()=>eM,"PackedPolicyTooLargeException",()=>eq,"RegionDisabledException",()=>eG,"STS",()=>nc,"STSClient",()=>e_,"STSServiceException",()=>ej,"__Client",()=>g.Client,"decorateDefaultCredentialProvider",0,ny,"getDefaultRoleAssumer",0,nS,"getDefaultRoleAssumerWithWebIdentity",0,nE],21671)}];

//# sourceMappingURL=c86e0_%40aws-sdk_nested-clients_dist-es_submodules_sts_index_18346d30.js.map